eval(function(B,D,A,G,E,F){function C(A){return A<62?String.fromCharCode(A+=A<26?65:A<52?71:-4):A<63?'_':A<64?'$':C(A>>6)+C(A&63)}while(A>0)E[C(G--)]=D[--A];return B.replace(/[\w\$]+/g,function(A){return E[A]==F[A]?A:E[A]})}('C8.z=(2(N,I){h S=q,U=document.createElement("canvas"),M,d,Bk,L,BC,R,C,J,BW,c,Q,H=U.Bh("BQ"),CF,CH,Bm,F,Cg,G,C$,CL,Bl,CE,BX,O=["#201b21","#ef1c22","#f77100","#ffdf1a","#21d708","#0182e7","#914ce4"],a=[CZ,Y,BG,DV,DW],e,f,B$,Ch,BB,BA,P,T,K={s:"p"},CG,D,CB,Cn=2(Z){b(isNaN(Z)){v;}b(K.s!="By"){J.BI=a[Z];}o{J.BI=a[Z]+BG;}c.BI=a[Z];c.Bv(V,V,BS,BS);c.Bc();c.Bi(B8,Y);c.B1(-BG,B9,CN,B_,Y,B4);c.Bd();CE.j("k",B2*(Z+W)-X);},DT=2(A){BX.4().Bt("y");BX.4().Cu(A).CP("y");G.j("Ct",O[A]);J.Ba=O[A];c.Ba=O[A];Q.Ba=O[A];c.Bv(V,V,BS,BS);Q.Bv(V,V,BS,300);c.Bc();c.Bi(B8,Y);c.B1(-BG,B9,CN,B_,Y,B4);c.Bd();for(h B=V;B<a.length;++B){h Z=X+B*B2;Q.BI=a[B];Q.Bc();Q.Bi(B8,Y+Z);Q.B1(-BG,B9+Z,CN,B_+Z,Y,B4+Z);Q.Bd();}},Cj=2(a){h Z=M.4("Cp").4();Z.Bt("y");Z.Cu(a).CP("y");},E=2(Z,A){S.7.t=Z;S.7.w=A;J.Bw="u";J.Bz="u";J.BI=a[S.Bs];J.Ba=O[S.Bx];J.BF(U,V,V);},Cm=2(a){b(a.m=="Bg"){C2(a);}o{b(a.m=="8"){Bn(a);}}};CG=i 3(Cm,q);h Cd=2(a){b(K.s!="p"){v;}e=a.BK;f=a.BL;P=d.t();T=d.w();N("BY").$().$("9","_",CG);U.t=P;U.w=T;H.BF(S.7,V,V);K.s="B7";},C2=2(Z){b(K.s!="B7"){v;}h A=Z.BK-e,B=Z.BL-f,a=P+A,C=T+B;b(a<Bu||C<Bu){v;}d.j({t:a,w:C});E(a,C);},Bn=2(a){b(K.s!="B7"){v;}K.s="p";N("BY").$("destroy");},Cr=2(a){b(K.s!="p"){v;}e=a.C5;f=a.C6;BB=M.5().n;BA=M.5().k;N("BY").Cy(Bj).Ci(CC);K.s="CI";},CC=2(a){b(K.s!="CI"){v;}h Z=a.C5-e,A=a.C6-f,C=BB+Z,B=BA+A;M.j({n:C,k:B});},Bj=2(a){b(K.s!="CI"){v;}K.s="p";N("BY").CU("Cy",Bj);N("BY").CU("Ci",CC);},BT=2(a){b(K.s!="p"){v;}e=a.BZ;f=a.BJ;J.Bc();J.Bi(e,f);K.s="B3";},Cs=2(a){b(K.s!="B3"){v;}h A=a.BZ,Z=a.BJ;J.C0(A,Z);J.Bd();},B=2(a){b(K.s!="B3"){v;}K.s="p";},CY=2(a){b(K.s!="p"){v;}e=a.BZ;f=a.BJ;N(l).j("cursor","default");J.DI();J.globalCompositeOperation="copy";J.Ba="rgba(V,V,V,V)";J.BI+=BG;J.Bc();J.Bi(e,f);K.s="By";},Cq=2(a){b(K.s!="By"){v;}h A=a.BZ,Z=a.BJ;J.C0(A,Z);J.Bd();},CA=2(a){b(K.s!="By"){v;}J.DQ();K.s="p";},Cc=2(a){b(a.m=="Bg"){Z(a);}o{b(a.m=="8"){BH(a);}}};D=i 3(Cc,q);h A=2(a){b(K.s!="p"){v;}e=a.BK;f=a.BL;BB=S.x[V];BA=S.x[W];d.$("9","_",D);K.s="CW";},Z=2(a){b(K.s!="CW"){v;}h Z=a.BK-e,A=a.BL-f,C=BB+Z,B=BA+A;S.B5([C,B]);L.j({n:C+S.0[V]/X,k:B+S.0[W]/X});},BH=2(a){b(K.s!="CW"){v;}K.s="p";d.$("9","_",S.g.BN);},DX=2(a){BW.Bv(V,V,S.0[V],S.0[W]);},Ck=2(a){b(a.m=="Bg"){BU(a);}o{b(a.m=="8"){CV(a);}}};CB=i 3(Ck,q);h Ce=2(a){b(K.s!="p"){v;}e=a.BK;f=a.BL;h E=R.5();BB=E.n;BA=E.k;h A=BC.5().n,D=BC.5().k,B=R.5().n,C=R.5().k;B$=Co(A,D,B,C);Ch=mseAngleForLine(A,D,B,C);h Z=N(S.6);P=Z.t();T=Z.w();U.t=P;U.w=T;H.BF(S.6,V,V);d.$("9","_",CB);K.s="CQ";},BU=2(Z){b(K.s!="CQ"){v;}h A=Z.BK-e,B=Z.BL-f;b(A==V&&B==V){v;}h BT=-BR,BU=-BR,I=BB+A,BH=BA+B,H=Co(BT,BU,I,BH),C=angleForLine(BT,BU,I,BH);R.j({n:H*r.cos(C)-BR,k:H*r.sin(C)-BR});Bk.j({n:-H,k:-H,t:H*X,w:H*X,"C_-DD":H});h a=H/B$,G=P*a,F=T*a,E=L.5().n,D=L.5().k;S.B5([E-G/X,D-F/X]);S.DL([G,F]);S.C9(r.u(CD*C/(r.CS)));BW.BF(U,V,V,P,T,V,V,G,F);},CV=2(a){b(K.s!="CQ"){v;}K.s="p";d.$("9","_",S.g.BN);},Bp=2(){l.CJ();};Bp.prototype={BD:q,6:q,7:q,Bs:V,Bx:V,Br:V,x:[V,V],0:[V,V],Bb:V,DE:2(a){N(l.6).j({n:a[V],k:a[W]});},DU:2(a){l.6.t=a[V];l.6.w=a[W];l.6.Cz.t=a[V];l.6.Cz.w=a[W];N(l.6).j({t:a[V],w:a[W]});},DF:2(a){N(l.6).j({"-webkit-BV":"BM("+a+"Bf)","-moz-BV":"BM("+a+"Bf)","-ms-BV":"BM("+a+"Bf)","-Bj-BV":"BM("+a+"Bf)",BV:"BM("+a+"Bf)"});},DN:2(Z){h a=ptRotated(Z.BZ,Z.BJ,l.x[V]+l.0[V]/X,l.x[W]+l.0[W]/X,r.CS*l.Bb/CD),A=a.Bn-l.x[V],B=a.Bm-l.x[W];b(A>=V&&A<=l.0[V]&&B>=V&&B<=l.0[W]){v true;}o{v false;}},Cf:2(a){b(a.m=="BO"){BT(a);}o{b(a.m=="Bg"){Cs(a);}o{b(a.m=="8"){B(a);}}}},DA:2(a){b(a.m=="BO"){CY(a);}o{b(a.m=="Bg"){Cq(a);}o{b(a.m=="8"){CA(a);}}}},DR:2(a){b(a.m=="BO"){Cd(a);}o{b(a.m=="8"){Bn(a);}}},DK:2(a){b(a.m=="BO"){A(a);}o{b(a.m=="8"){BH(a);}}},Cv:2(a){b(a.m=="BO"){Ce(a);}o{b(a.m=="8"){CV(a);}}},BN:2(a){b(a.m=="BO"){b(!L.hasClass("y")&&l.DN(a)){h A=l.x[V]+l.0[V]/X,Z=l.x[W]+l.0[W]/X;L.j({n:A,k:Z}).CP("y");}o{L.Bt("y");}}},BP:2(){N(l.7).CU("CR").$("B0","_");d.$("B0","_");L.Bt("y");},DP:2(a){switch(a){CK V:l.BP();h Z=N(l.6);d.$("9","_",l.g.BN);CO;CK W:l.BP();N(l.7).$("9","_",l.g.C7).CR(B);CO;CK X:l.BP();N(l.7).$("9","_",l.g.DS).CR(CA);CO;}},showWithImg:2(A,Z,a){I.center.append(I.z.BD);l.BD.show();l.BD.j({n:-(Z>Cb?Z:Cb)/X,k:-(Bu+a)/X});d.j({t:Z,w:a});l.7.t=Z;l.7.w=a;l.B5([V,V]);l.DL([Z,a]);l.C9(V);l.DB(V);l.DJ(V);l.Cw(W);Bk.j({n:-CM,k:-CM,t:CX,w:CX,"C_-DD":CM});R.j({n:Bu,k:-BR});BC.$("9","_",l.g.C4);R.$("9","_",l.g.Cl);J.Bw="u";J.Bz="u";BW.putImageData(A,V,V);},Bo:2(){l.BP();BC.$("B0","_");R.$("B0","_");l.BD.DM();},CJ:2(){CF=N("#z .Bo");CH=N("#z #sb_confirm");Bm=N("#z .CT");M=N("#z .1");F=N("#z .anchor");Cg=N("#z .1 #sb_img");G=N("#z .1 #sb_pencil").j("Ct",O[V]);BX=N("#z .1 #sb_colorset");C$=N("#z .1 #sb_eraser");CL=N("#z .1 #sb_size");Bl=N("#z .1 #sb_sizeset");CE=N("#z .1 #sb_sizebloc");d=N("#z .canvas_container");Bk=N("#z .circle");L=N("#z #circle_center");BC=L.4(".moveicon");R=L.4(".dragicon");C=L.4(".deleteicon");c=CL.Bq(V).Bh("BQ");Q=Bl.Bq(V).Bh("BQ");c.Cx=O[V];Q.Cx=O[V];c.Bw="u";c.Bz="u";Q.Bw="u";Q.Bz="u";h a=l;l.BD=N("#z");l.6=N("#z #sb_imgcanvas").Bq(V);l.7=N("#z #sb_drawcanvas").Bq(V);J=l.7.Bh("BQ");BW=l.6.Bh("BQ");mmvc.makeModel(l,["Bs","Bx","Br","0","x","Bb"]);l.BE("Bs",i 3(Cn,q));l.BE("Bx",i 3(DT,q));l.BE("Br",i 3(Cj,q));l.BE("Br",i 3(l.DP,l));l.BE("0",i 3(l.DU,l));l.BE("x",i 3(l.DE,l));l.BE("Bb",i 3(l.DF,l));N(l.7).$();BC.$();R.$();d.$();l.g={C7:i 3(l.Cf,l),DS:i 3(l.DA,l),CT:i 3(l.DR,l),C4:i 3(l.DK,l),Cl:i 3(l.Cv,l),BN:i 3(l.BN,l)};CF.C3("Be",{z:l},2(a){h A=a.B6.z.6,Z=A.DO();a.B6.z.Bo();I.DC();I.DG(Z,"C1");});CH.C3("Be",{z:l},2(a){h A=a.B6.z;U.t=A.7.t;U.w=A.7.w;H.DI();H.DH(A.x[V]+A.0[V]/X,A.x[W]+A.0[W]/X);H.BM(r.CS*A.Bb/CD);H.DH(-A.0[V]/X,-A.0[W]/X);H.BF(A.6,V,V);H.DQ();H.BF(A.7,V,V);h Z=U.DO();A.Bo();I.DC();I.DG(Z,"C1");});BX.4().Ca(2(Z){N(l).Be(2(){a.DJ(Z);});});Bl.Be(2(Z){h A=r.floor(Z.BJ/B2);a.DB(A);});Bm.$().$("9","_",l.g.CT);F.mousedown(Cr);M.4("Cp").4("li:lt(CZ)").Ca(2(Z){N(l).Be(2(){a.Cw(Z);});});l.BD.DM();}};v{CJ:2(){b(!(S instanceof Bp)){S=i Bp();}I.z=S;}};}(jQuery,C8));','G|I|J|K|R|S|T|W|Y|Z|d|f|h|i|j|q|0|1|2|4|_|$|if|$0|F0|I0|J0|cb|var|new|css|top|this|type|left|else|none|null|Math|manip|width|round|return|height|imgPos|active|scriber|imgSize|toolbox|function|Callback|children|position|imgCanvas|drawCanvas|gestureEnd|addListener|gestureSingle|mseInteraction|b|a|r|jq|observe|drawImage|5|L|lineWidth|offsetY|windowX|windowY|rotate|showImgTools|gestureStart|desactiveTools|2d|25|32|F|H|transform|l|v|body|offsetX|strokeStyle|imgRot|beginPath|stroke|click|deg|gestureUpdate|getContext|moveTo|o|t|H0|y|x|close|A0|get|toolid|sizeid|removeClass|50|clearRect|lineCap|colorid|Erase|lineJoin|removeListener|bezierCurveTo|40|Draw|30|setimgPos|data|CanvasResize|15|16|12|G0|e|c|m|180|u|s|p|z|ToolboxMove|init|case|B0|75|56|break|addClass|ImgResize|mouseout|PI|resize|unbind|K0|ImgMove|150|E0|3|each|210|M|N|O|drawHandler|U|V|mousemove|Q|P|resizeimg|X|g|distance2Pts|ul|n|k|w|background|eq|resizeImgHandler|settoolid|strokeColor|mouseup|style|lineTo|base64|D0|bind|moveimg|pageX|pageY|draw|gui|setimgRot|border|_0|eraseHandler|setsizeid|openComment|radius|updateImagePos|updateImageRot|setCommentImage|translate|save|setcolorid|moveImgHandler|setimgSize|detach|inImgCanvas|toDataURL|activeTool|restore|resizeHandler|erase|L0|updateImageSize|6|7|C0'.split('|'),211,215,{},{}))