eval(function(B,D,A,G,E,F){function C(A){return A<62?String.fromCharCode(A+=A<26?65:A<52?71:-4):A<63?'_':A<64?'$':C(A>>6)+C(A&63)}while(A>0)E[C(G--)]=D[--A];return B.replace(/[\w\$]+/g,function(A){return E[A]==F[A]?A:E[A]})}('Cs.y=(1(K,G){f O=o,Q=document.createElement("canvas"),BR,Bf,Z,Bh,J,R,N,C,H,BW,M,F=Q.Bq("Bd"),Be,B2,DF,CY,BP,B6,Bl,B5,Bg,BS=["#201b21","#ef1c22","#f77100","#ffdf1a","#21d708","#0182e7","#914ce4"],X=[U,DH.V,V,CQ.V],b,a,B_,CW,BT,BU,L,P,I={q:"n"},B1,D,B0,Ce=1(W){Y(isNaN(W)){u;}Y(I.q!="Bo"){H.BV=X[W];}m{H.BV=X[W]+V;}B5.h("l",Bs*W-T);},Ca=1(A){Bg.3("CK").9("x").Ci(A).BI("x");H.Bj=BS[A];M.Bj=BS[A];M.Ct(S,S,32,300);for(f B=S;B<X.C1;++B){f W=B*Bs;M.fillStyle="#fff";M.fillRoundRect(W+T,V,d,d,DI);M.BV=X[B];M.CA();M.CM(15+W,10);M.bezierCurveTo(-V+W,16,46+W,12,CQ+W,d);M.CD();}},Cb=1(X){f W=Bf.3();W.9("x");W.Ci(X).BI("x");},E=1(W,A){O.6.r=W;O.6.v=A;H.CE="s";H.CN="s";H.BV=X[O.Bm];H.Bj=BS[O.Bn];H.BB(Q,S,S);},CZ=1(X){Y(X.k=="Bb"){Cm(X);}m{Y(X.k=="7"){B4(X);}}};B1=g 2(CZ,o);f CS=1(X){Y(I.q!="n"){u;}b=X.BF;a=X.BG;L=Z.r();P=Z.v();K("Cj").$().$("8","_",B1);Q.r=L;Q.v=P;F.BB(O.6,S,S);I.q="By";},Cm=1(W){Y(I.q!="By"){u;}f A=W.BF-b,B=W.BG-a,X=L+A,C=P+B;Y(X<CB||C<CB){u;}Z.h({r:X,v:C});E(X,C);},B4=1(X){Y(I.q!="By"){u;}I.q="n";K("Cj").$("destroy");},BN=1(X){Y(I.q!="n"){u;}b=X.BE;a=X.BY;H.CA();H.CM(b,a);I.q="Bu";},Ch=1(X){Y(I.q!="Bu"){u;}f A=X.BE,W=X.BY;H.Co(A,W);H.CD();},B=1(X){Y(I.q!="Bu"){u;}I.q="n";},Cw=1(X){Y(I.q!="n"){u;}b=X.BE;a=X.BY;K(j).h("cursor","default");H.C4();H.globalCompositeOperation="copy";H.Bj="rgba(S,S,S,S)";H.BV+=V;H.CA();H.CM(b,a);I.q="Bo";},Cg=1(X){Y(I.q!="Bo"){u;}f A=X.BE,W=X.BY;H.Co(A,W);H.CD();},Bz=1(X){Y(I.q!="Bo"){u;}H.DA();I.q="n";},BO=1(X){Y(X.k=="Bb"){W(X);}m{Y(X.k=="7"){BD(X);}}};D=g 2(BO,o);f A=1(X){Y(I.q!="n"){u;}b=X.BF;a=X.BG;BT=O.w[S];BU=O.w[T];Z.$("8","_",D);I.q="CL";},W=1(X){Y(I.q!="CL"){u;}f W=X.BF-b,A=X.BG-a,C=BT+W,B=BU+A;O.Bx([C,B]);J.h({l:C+O.z[S]/U,i:B+O.z[T]/U});},BD=1(X){Y(I.q!="CL"){u;}I.q="n";Z.$("8","_",O.e.BJ);},DG=1(X){BW.Ct(S,S,O.z[S],O.z[T]);},CU=1(X){Y(X.k=="Bb"){BC(X);}m{Y(X.k=="7"){Bw(X);}}};B0=g 2(CU,o);f CT=1(X){Y(I.q!="n"){u;}b=X.BF;a=X.BG;f E=N.4();BT=E.l;BU=E.i;f A=R.4().l,D=R.4().i,B=N.4().l,C=N.4().i;B_=Cf(A,D,B,C);CW=mseAngleForLine(A,D,B,C);f W=K(O.5);L=W.r();P=W.v();Q.r=L;Q.v=P;F.BB(O.5,S,S);Z.$("8","_",B0);I.q="CG";},BC=1(W){Y(I.q!="CG"){u;}f A=W.BF-b,B=W.BG-a;Y(A==S&&B==S){u;}f BN=-d,BP=-d,BD=BT+A,BO=BU+B,G=Cf(BN,BP,BD,BO),C=angleForLine(BN,BP,BD,BO);N.h({l:G*p.cos(C)-d,i:G*p.sin(C)-d});Bh.h({l:-G,i:-G,r:G*U,v:G*U,"Cv-Cz":G});f X=G/B_,F=L*X,BC=P*X,E=J.4().l,D=J.4().i;O.Bx([E-F/U,D-BC/U]);O.C8([F,BC]);O.Cu(p.s(B3*C/(p.CI)));BW.BB(Q,S,S,L,P,S,S,F,BC);},Bw=1(X){Y(I.q!="CG"){u;}I.q="n";Z.$("8","_",O.e.BJ);},BX=1(){j.B8();};BX.prototype={c:o,5:o,6:o,Bm:S,Bn:S,Bk:S,w:[S,S],z:[S,S],BZ:S,C0:1(X){K(j.5).h({l:X[S],i:X[T]});},DE:1(X){j.5.r=X[S];j.5.v=X[T];j.5.Cn.r=X[S];j.5.Cn.v=X[T];K(j.5).h({r:X[S],v:X[T]});},C2:1(X){K(j.5).h({"-webkit-BQ":"BH("+X+"Ba)","-moz-BQ":"BH("+X+"Ba)","-ms-BQ":"BH("+X+"Ba)","-Be-BQ":"BH("+X+"Ba)",BQ:"BH("+X+"Ba)"});},C_:1(W){f X=ptRotated(W.BE,W.BY,j.w[S]+j.z[S]/U,j.w[T]+j.z[T]/U,p.CI*j.BZ/B3),A=X.B6-j.w[S],B=X.BX-j.w[T];Y(A>=S&&A<=j.z[S]&&B>=S&&B<=j.z[T]){u true;}m{u false;}},CV:1(X){Y(X.k=="BK"){BN(X);}m{Y(X.k=="Bb"){Ch(X);}m{Y(X.k=="7"){B(X);}}}},Cx:1(X){Y(X.k=="BK"){Cw(X);}m{Y(X.k=="Bb"){Cg(X);}m{Y(X.k=="7"){Bz(X);}}}},DB:1(X){Y(X.k=="BK"){CS(X);}m{Y(X.k=="7"){B4(X);}}},C7:1(X){Y(X.k=="BK"){A(X);}m{Y(X.k=="7"){BD(X);}}},Ck:1(X){Y(X.k=="BK"){CT(X);}m{Y(X.k=="7"){Bw(X);}}},BJ:1(X){Y(X.k=="BK"){Y(!J.DD("x")&&j.C_(X)){f A=j.w[S]+j.z[S]/U,W=j.w[T]+j.z[T]/U;J.h({l:A,i:W}).BI("x");}m{J.9("x");}}},CO:1(){BR.BI("x");Bp.BI("x");},Bv:1(){BR.9("x");Bp.9("x");},BM:1(){K(j.6).unbind("CH").$("Br","_");Z.$("Br","_");J.9("x");},C$:1(X){switch(X){B9 S:j.BM();K(j.6).$("8","_",j.e.Cr).CH(B);CC;B9 T:j.BM();K(j.6).$("8","_",j.e.DC).CH(Bz);CC;B9 U:j.BM();f W=K(j.5);Z.$("8","_",j.e.BJ);CC;}},CP:1(C,B,X){Cd.currTimeline.pause();G.updatePlayPauseIcon();Y(j.c.parent().C1==S){G.center.append(j.c);}Y(!MseConfig.mobile){f A=B<BL?BL:B,W=X<Bc?Bc:X;j.c.h({l:-(B<BL?135:(B+CX)/U),i:-(X<Bc?145:(X+CX)/U),r:A,v:W});Z.h({l:(A-B)/U,i:(W-X)/U,r:B,v:X});}m{A=B<BL?BL:B,W=X<Bc?Bc:X;j.c.h({l:-(B<BL?Bt:(B+40)/U),r:A,v:W});Z.h({l:(A-B)/U,i:(W-X)/U,r:B,v:X});}j.c.BI("C5");j.6.r=B;j.6.v=X;j.Bx([S,S]);j.C8([B,X]);j.Cu(S);j.CF(S);j.CJ(S);j.Cl(S);Bh.h({l:-B$,i:-B$,r:Bt,v:Bt,"Cv-Cz":B$});N.h({l:CB,i:-d});R.$("8","_",j.e.Cp);N.$("8","_",j.e.Cc);H.CE="s";H.CN="s";BW.putImageData(C,S,S);},Bi:1(){j.BM();R.$("Br","_");N.$("Br","_");j.c.9("C5").C9();},B8:1(){Be=K("#y #sb_cancel");B2=K("#y #sb_confirm");C6=K("#y #sb_recap");Bp=K("#y #sb_edit");BR=K("#y #0");Bf=BR.3("#Cq");CY=K("#y #0 #sb_img");BP=K("#y #0 #sb_pencil");Bg=K("#y #0 #sb_colorset");B6=K("#y #0 #sb_eraser");Bl=K("#y #0 #sb_sizes_canvas");B5=K("#y #0 #sb_sizebloc");Z=K("#y .canvas_container");Bh=K("#y .circle");J=K("#y #circle_center");R=J.3(".moveicon");N=J.3(".dragicon");C=J.3(".deleteicon");M=Bl.B7(S).Bq("Bd");M.strokeColor=BS[S];M.CE="s";M.CN="s";f X=j;j.c=K("#y");j.5=K("#y #sb_imgcanvas").B7(S);j.6=K("#y #sb_drawcanvas").B7(S);H=j.6.Bq("Bd");BW=j.5.Bq("Bd");mmvc.makeModel(j,["Bm","Bn","Bk","z","w","BZ"]);j.BA("Bm",g 2(Ce,o));j.BA("Bn",g 2(Ca,o));j.BA("Bk",g 2(Cb,o));j.BA("Bk",g 2(j.C$,j));j.BA("z",g 2(j.DE,j));j.BA("w",g 2(j.C0,j));j.BA("BZ",g 2(j.C2,j));Bg.3("CK").CR(1(W){K(j).t(1(){X.CJ(W);});});Bl.t(1(W){f A=p.floor(W.BE/Bs);X.CF(A);});Bf.3("CK").CR(1(W){K(j).t(1(){X.Cl(W);});});j.CF(S);j.CJ(S);K(j.6).$();R.$();N.$();Z.$();j.e={Cr:g 2(j.CV,j),DC:g 2(j.Cx,j),resize:g 2(j.DB,j),Cp:g 2(j.C7,j),Cc:g 2(j.Ck,j),BJ:g 2(j.BJ,j)};Bp.t(1(){Y(K(j).DD("x")){X.Bv();}m{X.CO();}});K("#Cq").mouseleave(1(){X.Bv();});C6.t(1(){X.Bi();Cd.root.startCapture(g 2(X.CP,X));});Be.t(1(W){X.Bi();G.Cy();});B2.t(1(){f A=X;Q.r=A.6.r;Q.v=A.6.v;F.C4();F.C3(A.w[S]+A.z[S]/U,A.w[T]+A.z[T]/U);F.BH(p.CI*A.BZ/B3);F.C3(-A.z[S]/U,-A.z[T]/U);F.BB(A.5,S,S);F.DA();F.BB(A.6,S,S);f W=Q.toDataURL();A.Bi();G.Cy();G.setCommentImage(W,"base64");});j.c.C9();}};u{B8:1(){Y(!(O instanceof BX)){O=g BX();}G.y=O;}};}(jQuery,Cs));','I|J|Q|R|S|X|c|e|g|h|i|m|n|0|1|2|5|_|$|if|A0|E0|D0|jq|25|cb|var|new|css|top|this|type|left|else|none|null|Math|manip|width|round|click|return|height|imgPos|active|scriber|imgSize|toolbox|function|Callback|children|position|imgCanvas|drawCanvas|gestureEnd|addListener|removeClass|gestureSingle|mseInteraction|observe|drawImage|G|K|offsetX|windowX|windowY|rotate|addClass|showImgTools|gestureStart|250|desactiveTools|F|L|H|transform|V|Y|Z|a|lineWidth|j|y|offsetY|imgRot|deg|gestureUpdate|290|2d|o|w|r|p|close|strokeStyle|toolid|C0|sizeid|colorid|Erase|editBn|getContext|removeListener|37|150|Draw|desactiveToolbox|F0|setimgPos|CanvasResize|d|b|l|v|180|t|q|x|get|init|case|B0|75|beginPath|50|break|stroke|lineCap|setsizeid|ImgResize|mouseout|PI|setcolorid|li|ImgMove|moveTo|lineJoin|activeToolbox|showWithImg|6|each|M|N|O|drawHandler|U|20|T|W|G0|P|resizeimg|mse|f|distance2Pts|k|s|eq|body|resizeImgHandler|settoolid|$0|style|lineTo|moveimg|sb_tools|draw|gui|clearRect|setimgRot|border|_0|eraseHandler|openComment|radius|updateImagePos|length|updateImageRot|translate|save|show|recapBn|moveImgHandler|setimgSize|detach|inImgCanvas|activeTool|restore|resizeHandler|erase|hasClass|updateImageSize|u|z|3|4'.split('|'),196,200,{},{}))