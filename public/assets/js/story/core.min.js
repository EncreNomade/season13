eval(function(B,D,A,G,E,F){function C(A){return A<62?String.fromCharCode(A+=A<26?65:A<52?71:-4):A<63?'_':A<64?'$':C(A>>6)+C(A&63)}while(A>0)E[C(G--)]=D[--A];return B.replace(/[\w\$]+/g,function(A){return E[A]==F[A]?A:E[A]})}('j.z=(2(K,B0){Y(!B0.j){B0.j={};}f O=p,Q=document.createElement("canvas"),BR,Bh,Z,Bj,J,R,N,C,H,BX,M,F=Q.Bs("Be"),Bg,B4,DH,Ce,BP,B8,Bn,B7,Bi,BU=["#201b21","#ef1c22","#f77100","#ffdf1a","#21d708","#0182e7","#914ce4"],X=[U,DJ.V,V,CU.V],c,b,CA,Cb,BT,BV,L,P,I={r:"o"},B3,D,B2,Ci=2(W){Y(isNaN(W)){v;}Y(I.r!="Bq"){H.BW=X[W];}n{H.BW=X[W]+V;}B7.h("m",Bu*W-T);},Cd=2(A){Bi.4("CO").9("y").Cl(A).BI("y");H.Bl=BU[A];M.Bl=BU[A];M.Cu(S,S,32,300);for(f B=S;B<X.CJ;++B){f W=B*Bu;M.fillStyle="#fff";M.fillRoundRect(W+T,V,d,d,DK);M.BW=X[B];M.CC();M.CQ(15+W,10);M.bezierCurveTo(-V+W,16,46+W,12,CU+W,d);M.CG();}},CY=2(X){f W=Bh.4();W.9("y");W.Cl(X).BI("y");},E=2(W,A){O.6.s=W;O.6.w=A;H.CH="u";H.CR="u";H.BW=X[O.Bo];H.Bl=BU[O.Bp];H.BC(Q,S,S);},Cc=2(X){Y(X.l=="Bc"){Cp(X);}n{Y(X.l=="7"){B6(X);}}};B3=g 3(Cc,p);f BO=2(X){Y(I.r!="o"){v;}c=X.BF;b=X.BG;L=Z.s();P=Z.w();K("Cm").$().$("8","_",B3);Q.s=L;Q.w=P;F.BC(O.6,S,S);I.r="Bz";},Cp=2(W){Y(I.r!="Bz"){v;}f A=W.BF-c,B=W.BG-b,X=L+A,C=P+B;Y(X<CD||C<CD){v;}Z.h({s:X,w:C});E(X,C);},B6=2(X){Y(I.r!="Bz"){v;}I.r="o";K("Cm").$("destroy");},BN=2(X){Y(I.r!="o"){v;}c=X.BE;b=X.BZ;H.CC();H.CQ(c,b);I.r="Bw";},Ck=2(X){Y(I.r!="Bw"){v;}f A=X.BE,W=X.BZ;H.Cr(A,W);H.CG();},B=2(X){Y(I.r!="Bw"){v;}I.r="o";},Cx=2(X){Y(I.r!="o"){v;}c=X.BE;b=X.BZ;K(k).h("cursor","default");H.C4();H.globalCompositeOperation="copy";H.Bl="rgba(S,S,S,S)";H.BW+=V;H.CC();H.CQ(c,b);I.r="Bq";},Cj=2(X){Y(I.r!="Bq"){v;}f A=X.BE,W=X.BZ;H.Cr(A,W);H.CG();},B1=2(X){Y(I.r!="Bq"){v;}H.DB();I.r="o";},BQ=2(X){Y(X.l=="Bc"){W(X);}n{Y(X.l=="7"){G(X);}}};D=g 3(BQ,p);f A=2(X){Y(I.r!="o"){v;}c=X.BF;b=X.BG;BT=O.x[S];BV=O.x[T];Z.$("8","_",D);I.r="CP";},W=2(X){Y(I.r!="CP"){v;}f W=X.BF-c,A=X.BG-b,C=BT+W,B=BV+A;O.By([C,B]);J.h({m:C+O.0[S]/U,i:B+O.0[T]/U});},G=2(X){Y(I.r!="CP"){v;}I.r="o";Z.$("8","_",O.e.BJ);},DI=2(X){BX.Cu(S,S,O.0[S],O.0[T]);},CX=2(X){Y(X.l=="Bc"){BD(X);}n{Y(X.l=="7"){Bx(X);}}};B2=g 3(CX,p);f CW=2(X){Y(I.r!="o"){v;}c=X.BF;b=X.BG;f E=N.BA();BT=E.m;BV=E.i;f A=R.BA().m,D=R.BA().i,B=N.BA().m,C=N.BA().i;CA=Ch(A,D,B,C);Cb=mseAngleForLine(A,D,B,C);f W=K(O.5);L=W.s();P=W.w();Q.s=L;Q.w=P;F.BC(O.5,S,S);Z.$("8","_",B2);I.r="CK";},BD=2(W){Y(I.r!="CK"){v;}f A=W.BF-c,B=W.BG-b;Y(A==S&&B==S){v;}f BN=-d,BP=-d,BQ=BT+A,BO=BV+B,G=Ch(BN,BP,BQ,BO),C=angleForLine(BN,BP,BQ,BO);N.h({m:G*q.cos(C)-d,i:G*q.sin(C)-d});Bj.h({m:-G,i:-G,s:G*U,w:G*U,"Cw-C0":G});f X=G/CA,F=L*X,BD=P*X,E=J.BA().m,D=J.BA().i;O.By([E-F/U,D-BD/U]);O.C8([F,BD]);O.Cv(q.u(B5*C/(q.CM)));BX.BC(Q,S,S,L,P,S,S,F,BD);},Bx=2(X){Y(I.r!="CK"){v;}I.r="o";Z.$("8","_",O.e.BJ);},BY=2(){k.B_();};BY.prototype={a:p,5:p,6:p,Bo:S,Bp:S,Bm:S,x:[S,S],0:[S,S],Ba:S,C1:2(X){K(k.5).h({m:X[S],i:X[T]});},DG:2(X){k.5.s=X[S];k.5.w=X[T];k.5.Cq.s=X[S];k.5.Cq.w=X[T];K(k.5).h({s:X[S],w:X[T]});},C2:2(X){K(k.5).h({"-webkit-BS":"BH("+X+"Bb)","-moz-BS":"BH("+X+"Bb)","-ms-BS":"BH("+X+"Bb)","-Bg-BS":"BH("+X+"Bb)",BS:"BH("+X+"Bb)"});},C$:2(W){f X=ptRotated(W.BE,W.BZ,k.x[S]+k.0[S]/U,k.x[T]+k.0[T]/U,q.CM*k.Ba/B5),A=X.B8-k.x[S],B=X.BY-k.x[T];Y(A>=S&&A<=k.0[S]&&B>=S&&B<=k.0[T]){v true;}n{v false;}},CZ:2(X){Y(X.l=="BK"){BN(X);}n{Y(X.l=="Bc"){Ck(X);}n{Y(X.l=="7"){B(X);}}}},Cy:2(X){Y(X.l=="BK"){Cx(X);}n{Y(X.l=="Bc"){Cj(X);}n{Y(X.l=="7"){B1(X);}}}},DC:2(X){Y(X.l=="BK"){BO(X);}n{Y(X.l=="7"){B6(X);}}},C7:2(X){Y(X.l=="BK"){A(X);}n{Y(X.l=="7"){G(X);}}},Cn:2(X){Y(X.l=="BK"){CW(X);}n{Y(X.l=="7"){Bx(X);}}},BJ:2(X){Y(X.l=="BK"){Y(!J.DF("y")&&k.C$(X)){f A=k.x[S]+k.0[S]/U,W=k.x[T]+k.0[T]/U;J.h({m:A,i:W}).BI("y");}n{J.9("y");}}},CS:2(){BR.BI("y");Br.BI("y");k.a.t(2(){O.Bf();});},Bf:2(){BR.9("y");Br.9("y");k.a.C_("t");},BM:2(){K(k.6).C_("CL").$("Bt","_");Z.$("Bt","_");J.9("y");},DA:2(X){switch(X){B$ S:k.BM();K(k.6).$("8","_",k.e.Ct).CL(B);CF;B$ T:k.BM();K(k.6).$("8","_",k.e.DD).CL(B1);CF;B$ U:k.BM();f W=K(k.5);Z.$("8","_",k.e.BJ);CF;}},CT:2(C,B,X){Cg.currTimeline.pause();j.updatePlayPauseIcon();Y(k.a.parent().CJ==S){j.center.append(k.a);}Y(!MseConfig.mobile){f A=B<BL?BL:B,W=X<Bd?Bd:X;k.a.h({m:-(B<BL?135:(B+Ca)/U),i:-(X<Bd?145:(X+Ca)/U),s:A,w:W});Z.h({m:(A-B)/U,i:(W-X)/U,s:B,w:X});}n{A=B<BL?BL:B,W=X<Bd?Bd:X;k.a.h({m:-(B<BL?Bv:(B+40)/U),s:A,w:W});Z.h({m:(A-B)/U,i:(W-X)/U,s:B,w:X});}k.a.BI("C5");k.6.s=B;k.6.w=X;k.By([S,S]);k.C8([B,X]);k.Cv(S);k.CI(S);k.CN(S);k.Co(S);Bj.h({m:-CB,i:-CB,s:Bv,w:Bv,"Cw-C0":CB});N.h({m:CD,i:-d});R.$("8","_",k.e.Cs);N.$("8","_",k.e.Cf);H.CH="u";H.CR="u";BX.putImageData(C,S,S);},Bk:2(){k.BM();R.$("Bt","_");N.$("Bt","_");k.a.9("C5").C9();},B_:2(){k.a=K("#z");Y(k.a.CJ==S){v;}k.5=K("#z #sb_imgcanvas").B9(S);k.6=K("#z #sb_drawcanvas").B9(S);Bg=K("#z #sb_cancel");B4=K("#z #sb_confirm");C6=K("#z #sb_recap");Br=K("#z #sb_edit");BR=K("#z #1");Bh=BR.4("#CE");Ce=K("#z #1 #sb_img");BP=K("#z #1 #sb_pencil");Bi=K("#z #1 #sb_colorset");B8=K("#z #1 #sb_eraser");Bn=K("#z #1 #sb_sizes_canvas");B7=K("#z #1 #sb_sizebloc");Z=K("#z .canvas_container");Bj=K("#z .circle");J=K("#z #circle_center");R=J.4(".moveicon");N=J.4(".dragicon");C=J.4(".deleteicon");M=Bn.B9(S).Bs("Be");M.strokeColor=BU[S];M.CH="u";M.CR="u";f X=k;H=k.6.Bs("Be");BX=k.5.Bs("Be");mmvc.makeModel(k,["Bo","Bp","Bm","0","x","Ba"]);k.BB("Bo",g 3(Ci,p));k.BB("Bp",g 3(Cd,p));k.BB("Bm",g 3(CY,p));k.BB("Bm",g 3(k.DA,k));k.BB("0",g 3(k.DG,k));k.BB("x",g 3(k.C1,k));k.BB("Ba",g 3(k.C2,k));Bi.4("CO").CV(2(W){K(k).t(2(){X.CN(W);});});Bn.t(2(W){f A=q.floor(W.BE/Bu);X.CI(A);});Bh.4("CO").CV(2(W){K(k).t(2(){X.Co(W);});});k.CI(S);k.CN(S);K(k.6).$();R.$();N.$();Z.$();k.e={Ct:g 3(k.CZ,k),DD:g 3(k.Cy,k),resize:g 3(k.DC,k),Cs:g 3(k.C7,k),Cf:g 3(k.Cn,k),BJ:g 3(k.BJ,k)};Br.t(2(W){W.DE();Y(K(k).DF("y")){X.Bf();}n{X.CS();}});K("#CE").mouseleave(2(){X.Bf();});K("#CE").t(2(X){X.DE();});C6.t(2(){X.Bk();Cg.root.startCapture(g 3(X.CT,X));});Bg.t(2(W){X.Bk();j.Cz();});B4.t(2(){f A=X;Q.s=A.6.s;Q.w=A.6.w;F.C4();F.C3(A.x[S]+A.0[S]/U,A.x[T]+A.0[T]/U);F.BH(q.CM*A.Ba/B5);F.C3(-A.0[S]/U,-A.0[T]/U);F.BC(A.5,S,S);F.DB();F.BC(A.6,S,S);f W=Q.toDataURL();A.Bk();j.Cz();j.setCommentImage(W,"base64");});k.a.C9();}};v{B_:2(){Y(!(O instanceof BY)){O=g BY();}j.z=O;}};}(jQuery,window));','I|J|P|Q|R|W|b|d|g|h|i|m|n|0|1|2|5|_|$|if|A0|jq|E0|D0|25|cb|var|new|css|top|gui|this|type|left|else|none|null|Math|manip|width|click|round|return|height|imgPos|active|scriber|imgSize|toolbox|function|Callback|children|imgCanvas|drawCanvas|gestureEnd|addListener|removeClass|gestureSingle|mseInteraction|position|observe|drawImage|G|offsetX|windowX|windowY|rotate|addClass|showImgTools|gestureStart|250|desactiveTools|F|L|H|K|U|transform|Y|X|Z|lineWidth|j|y|offsetY|imgRot|deg|gestureUpdate|290|2d|desactiveToolbox|o|w|r|p|close|strokeStyle|toolid|C0|sizeid|colorid|Erase|editBn|getContext|removeListener|37|150|Draw|F0|setimgPos|CanvasResize|f|c|a|l|v|180|t|q|x|get|init|case|B0|75|beginPath|50|sb_tools|break|stroke|lineCap|setsizeid|length|ImgResize|mouseout|PI|setcolorid|li|ImgMove|moveTo|lineJoin|activeToolbox|showWithImg|6|each|M|N|O|drawHandler|20|T|V|G0|S|resizeimg|mse|distance2Pts|e|k|s|eq|body|resizeImgHandler|settoolid|$0|style|lineTo|moveimg|draw|clearRect|setimgRot|border|_0|eraseHandler|openComment|radius|updateImagePos|updateImageRot|translate|save|show|recapBn|moveImgHandler|setimgSize|detach|unbind|inImgCanvas|activeTool|restore|resizeHandler|erase|stopPropagation|hasClass|updateImageSize|u|z|3|4'.split('|'),198,202,{},{}));
eval(function(B,D,A,G,E,F){function C(A){return A<62?String.fromCharCode(A+=A<26?65:A<52?71:-4):A<63?'_':A<64?'$':C(A>>6)+C(A&63)}while(A>0)E[C(G--)]=D[--A];return B.replace(/[\w\$]+/g,function(A){return E[A]==F[A]?A:E[A]})}('BH.R={};(l(B){M C=B.R,A=["keydown","keypress","keyup"],J=["move","longPress","click","doubleClick","scroll","mousewheel","gestureSingle","gestureStart","gestureUpdate","gestureEnd","gestureMulti","2","BG","9","swipeleft","swiperight","swipe"];C.3=l(K,J,A){S.evtName=K;S.m=J;S.BC=A?A:Z;};C.3.t={x:C.3,BI:l(K){S.m.invoke(K);}};C._=l(J,K,A){S.Q=J;S.p=V;K.6(S);K.6("setDelegate",N n(S.BJ,S));S.h=N C.$(S.Q);S.0=N GestureAnalyser(S.h);S.h.w("2",N n(S.0.addBlob,S.0));S.h.w("BG",N n(S.0.updateBlob,S.0));S.h.w("9",N n(S.0.removeBlob,S.0));L(A){S.4(A);}};C._.t={x:C._,BJ:l(J){L(B.R&&C.currTimeline.inPause){c;}L(S.Q==C.W&&C.W.o&&J&&!J.BE&&!isNaN(J.BF)){J.BF+=C.W.o.BN;J.offsetY+=C.W.o.BO;J.BE=T;}L(S.p){S.h.v(J.X,J);}U{M K=S.h.v(J.X,J);L(!K.i&&S.u){S.u.BK(J.X,J);}}},4:l(K){L(K instanceof C.8){S.u=K;}},y:l(K){S.p=K;L(S.u){S.u.y(K);}},w:l(K,J,A){S.h.w(K,J,A);},7:l(K){S.h.7(K);},5:l(K,J){S.h.5(K,J);}};C.8=l(K){S.r={};S.parent=K;S.d=V;};C.8.t={x:C.8,BB:l(J,K){L(!J||!J.s){c-I;}U{L(!K||!K.s){c I;}U{L(J.s()<K.s()){c I;}U{L(J.s()>K.s()){c-I;}U{c H;}}}}},BM:l(B,A){L(g B!="BD"||!A||!A.BA){c;}L(!S.r[B]){S.r[B]=N a();}M J=S.r[B];L(K.j(A,J)==-I){J.Y(A);}S.r[B].sort(S.BB);},z:l(C,B){M A=S.r[C];L(!A){c;}M J=K.j(B,A);L(J!=-I){A.f(J,I);}},y:l(K){S.d=K;},BK:l(E,C){M F=Z,D=S.r[E];L(!D){c F;}D=D.slice();P(M A BL D){L((!S.d||S.d==D[A])){L(K.j(E,J)==-I){M B=D[A].BA.v(E,C);}U{B=D[A].eventCheck(E,C);}L(B.k){F=T;}L(B.i){b;}}}D=V;c F;}};C.$=l(K){S.O=K;S.q={};};C.$.t={x:C.$,w:l(K,D,E){L(g K!="BD"||!D){c Z;}M B=N C.3(K,D,E);L(!S.q[K]){S.q[K]=N a();S.q[K].Y(B);L(S.O&&S.O.1){M A=S.O.1();L(A&&A.u){A.u.BM(K,S.O);}}c T;}M F=Z,J=S.q[K];P(M G BL J){L(J[G].m==D){F=T;J.f(G,I,B);}}L(!F){S.q[K].Y(B);}c T;},7:l(K){delete S.q[K];L(S.O&&S.O.1){M J=S.O.1();}L(J){J.u.z(K,S.O);}},5:l(K,A){M J=S.q[K];L(J){P(M B=H;B<J.e;B++){L(J[B].m==A){J.f(B,I);L(J.e==H){S.7(K);}b;}}}},hasListener:l(K){c(S.q[K]!=V);},v:l(J,B){M K={i:Z,k:Z},A=S.q[J];L(!A){c K;}P(M C=H;C<A.e;++C){K.k=T;L(A[C].BC){K.i=T;}A[C].BI(B);}c K;}};})(BH);','0|1|_|$|if|var|new|obj|for|src|mse|this|true|else|null|root|type|push|false|Array|break|return|domObj|length|splice|typeof|rootEvt|prevent|inArray|success|function|callback|Callback|viewport|dominate|listeners|observers|getZindex|prototype|dispatcher|eventNotif|addListener|constructor|setDominate|stopObserve|rootAnalyser|getContainer|multiGestAdd|EventListener|setDispatcher|removeListener|mseInteraction|removeListeners|EventDispatcher|multiGestRemove|EventDistributor|EventDelegateSystem|evtDeleg|zSort|preventBubbling|string|corrected|offsetX|multiGestUpdate|window|notify|distributor|dispatch|in|observe|x|y'.split('|'),72,78,{},{}));
eval(function(B,D,A,G,E,F){function C(A){return A<62?String.fromCharCode(A+=A<26?65:A<52?71:-4):A<63?'_':A<64?'$':C(A>>6)+C(A&63)}while(A>0)E[C(G--)]=D[--A];return B.replace(/[\w\$]+/g,function(A){return E[A]==F[A]?A:E[A]})}('R KN;(z(B,C){R H=B.Dc;H.FO={c:"Es",IA:"JV Es",JH:"",JO:{Bw:Ef,DO:BZ},ET:z(O){P(O[K]=="."||O.C8("http",K)==K){p O;}Y{p H.FO.JH+O;}}};R BE=H.FO;H.Z=b;H.B6=b;H.2=2;H.U=z(){p{BK:{},EC:[],Ej:S Ba(),Ix:"Chargement ressources: ",GM:{},IK:/(.HW|.K9)/,EU:K.BB,BW:z(){R O,A;T(R B=K;B<Ef;B++){X.EC[B]=Gg.F8("EE");X.EC[B].l=G9;X.EC[B].q=G9;O=X.EC[B].Ez("FR");O.Bo(Jp,Jp);A=M*e.CX/Ef;O.7="#Ir";T(R N=K;N<Ef;N++){P(N==B){O.7="#EEEEEE";O.Dn(Ei,-G6,Ei,Hy);O.7="#Ir";}Y{O.Dn(Ei,-G6,Ei,Hy);}O.FD(A);}}},B0:z(A,N,B,O){Cq(B){f"V":f"E9":X.BK[A]=S Br();X.BK[A].U=BE.ET(N);X.BK[A].GC=K;n;f"DJ":f"Cb":X.BK[A]=Gg.F8("Cb");P(N.search(X.IK)==-L){Cq(4.browser){f"Chrome":f"Firefox":f"Opera":X.BK[A].E2("U",BE.ET(N)+".HW");X.BK[A].E2("BX","Cb/HW");n;f"Safari":f"Explorer":X.BK[A].E2("U",BE.ET(N)+".K9");X.BK[A].E2("BX","Cb/mpeg");n;}}Y{X.BK[A].U=BE.ET(N);}X.BK[A].E2("Ej","It");n;f"EW":X.BK[A]={};X.BK[A].CP=m;C.ajax({F4:BE.ET(N),dataType:"EW",async:m,D8:z(O){H.U.BK[A].CP=a;}});K7:p;}X.BK[A].BX=B;P(O&&B!="DJ"&&B!="Cb"){X.Ej.Bd(X.BK[A]);}},BS:z(N){R O=X.BK[N];P(!O){p b;}Cq(O.BX){f"V":f"E9":P(!O||O.CP){p O;}Y{P(O.GC==Ef){O.GC=K;}p X.EC[(O.GC++)];}f"DJ":f"Cb":O.EU=X.EU;p O;}},GK:z(O,N){P(!X.BK[O]){p;}P(X.BK[O].CP){N.D7();p;}P(!X.GM[O]){X.GM[O]=S Ba();}R A=X.GM[O];A.Bd(N);X.BK[O].onload=z(){T(R O Q A){A[O].D7();}};},JC:z(){R O=K;T(R N=K;N<X.Ej.r;N++){P(X.Ej[N].CP){O++;}}p[O,X.Ej.r];},KV:z(N,A,O){N.HN(K,K,H.Z.l,H.Z.q);N.Bv();N.Ca="#DDD";N.CT=M;N.I8((H.Z.l-H7)/M,H.Z.q-DI,281,11,BB);N.7="#BBB";N.Fm((H.Z.l-H7)/M,H.Z.q-DI,(A/O)*H7,CF,BB);R B=X.Ix+A+"/"+O;N.c="J1 "+BE.c;N.7="#D0";N.Bu="Ch";N.Co(B,H.Z.l/M,H.Z.q-Ei);N.Bz();},setVolume:z(O){X.EU=O/DI;T(R N Q X.BK){P(X.BK[N].BX=="DJ"||X.BK[N].BX=="Cb"){X.BK[N].EU=X.EU;}}}};}();R O=z(){H.CZ={};H.Do=L;H.joinCoor=z(A){P(BL(A)){p"";}R B=K;T(R D Q H.CZ){P(A==H.CZ[D]){p D;}R N=D.match(/Je(\\LD+)/);P(N[L]){R O=parseInt(N[L]);}P(!BL(O)&&O>=B){B=O+L;}}R C="Je"+B;H.CZ[C]=H.Do==L?A:G_(S HD(H.Do*A).Hz(M));p C;};H.coor=z(O){P(BL(H.CZ[O])){p K;}Y{p H.CZ[O];}};H.realCoor=z(O){P(BL(O)){p K;}Y{p H.Do==L?O:G_(S HD(H.Do*O).Hz(M));}};}();z E(){H.Do=(4.D2-4.Iv)/H.CZ.I3;T(R O Q H.CZ){H.CZ[O]=G_(S HD(H.Do*H.CZ[O]).Hz(K));}P(B.GX){B.GX();}B.GX=b;}H.Ib=z(O){P(O){B.GX=O;}P(H.CZ.I3){P(4.D2>IH){E();}Y{Eg(H.Ib,1000);}}};H.BW=z(N,O,E,D,A){C.t(BE,N);H.U.BW();R F="./HK/";P(w.EY=="FL"){F=w.mseBasicImgSrcPath;}H.U.B0("HB",F+"turn_comp.DS","V");H.U.B0("K1",F+"Ho/GG.DS","V");H.U.B0("ID",F+"Ho/DO.DS","V");H.U.B0("aideBar",F+"Ho/aide.DS","V");H.U.B0("C9",F+"KD/zoom.DS","V",a);H.U.B0("J7",F+"KD/EV.DS","V",a);H.U.B0("KW",F+"fb_btn.jpg","V",a);F="./Cb/";P(w.EY=="FL"){F=w.mseBasicAudSrcPath;}H.U.B0("JU",F+"gameover","DJ");H.U.B0("aud_inter_open",F+"interaction_open","DJ");H.U.B0("KQ",F+"interaction_close","DJ");H.U.B0("JP",F+"wiki_open","DJ");H.U.B0("Kb",F+"wiki_close","DJ");(z(N){R O=K,A=["ms","moz","webkit","ED"];P(N.GJ){T(R C=K;C<A.r&&!B.D6;++C){B.D6=B[A[C]+"RequestAnimationFrame"];B.GD=B[A[C]+"CancelAnimationFrame"]||B[A[C]+"CancelRequestAnimationFrame"];}}Y{B.D6=z(D,A){R E=S Date().getTime(),C=e.Jv(K,KU-(E-O)),N=B.Eg(z(){D(E+C);},C);O=E+C;p N;};}P(!B.GD){B.GD=z(O){clearTimeout(O);};}}(B.4));O=O||"defaultId";E=E||4.C$;D=D||4.D2;A=A||"Hd";P(!H.Z){B.Z=S H.Ga(O,E,D,A);}R G=S H.CJ();};R G=BZ,F=K,A={GG:"Dj(74,108,164)",DO:"Dj(230,Ki,Ki)",Cb:"#D0"},D={};H.H1=z(B,N,D,C,A){P(!B){p;}R O=S H.Dh(B,{Bb:[K,N],Da:[D,C]},L);P(A){O.0.$("BI",A);}O.BQ();};H.Fs=z(A,O,N){H.H1(A,O,K,L,N);};H.Fx=z(A,O,N){H.H1(A,O,L,K,N);};H.slidein=z(B,O,N,A,D){P(!B _ H.1){p;}P(BL(D)){D=L;}R C=S H.Dh(B,{Bb:[K,O],CI:N,Da:[K,D]},L);P(A){C.0.$("BI",A);}C.BQ();};H.slideout=z(B,O,N,A){P(!B _ H.1){p;}R C=S H.Dh(B,{Bb:[K,O],CI:N,Da:[B.Bs,K]},L);P(A){C.0.$("BI",A,m);}C.BQ();};H.GY=z(N,A,O,C){R B=N.s;P(B _ H.Cr){B.KJ(A,N);}H.Fs(A,O,C);H.Fx(N,O,S H.2(B.FU,B,N));};H.Iy=z(O){P(O.C8(".")!=-L){H.Z.BH.By("Kv",\'F4("\'+O+\'"), It\');}Y{H.Z.BH.E$(K).Dx.Kv=O;}};H.changePage=z(N,O){P(O){N.0.$("BF",S H.2(H.Z.GY,H.Z,H.Z.6),a);}H.Z.GY(N);};H.createBackLayer=z(O){P(D[O]){p D[O];}R N=S H.Cr(b,K,{B3:[H.Z.l,H.Z.q]});N.Bh(S H.Br(N,{B3:[H.Z.l,H.Z.q]},O));D[O]=N;p N;};H.Link=z(C,O,D,B,A,N){X.U=C;X.DC=O;X.BX=D;X.Cp=B;Cq(X.BX){f"GG":X.E9="K1";n;f"DO":X.E9="ID";n;f"illu":X.l=(A?A:G9);X.q=(N?N:400);n;}};z N(N,O){p(N.DC>O.DC?-L:(N.DC==O.DC?K:L));}H.1=z(N,O){P(N){X.s=N;X.EX=m;}Y{X.s=b;}X.0=S H.GB(X);P(O){P(O.CI){X.B5(O.CI[K],O.CI[L]);}P(O.B3){X.Cd(O.B3[K],O.B3[L]);}P(O.c){X.c=O.c;}P(O.7){X.7=O.7;}P(O.Ca){X.Ca=O.Ca;}P(!BL(O.Bs)){X.Bs=O.Bs;}Y{X.Bs=L;}P(O.CT){X.CT=O.CT;}P(O.DU){X.DU=O.DU;}P(O.Bu){X.Bu=O.Bu;}P(O.CW){X.CW=O.CW;}P(O.C5){X.C5=O.C5;}}X.C5=b;X.Cz=b;X.DX=b;};H.1.5={j:K,g:K,l:K,q:K,EX:a,B5:z(A,N,O){P(O){X.j=A+(X.EX?O.i():O.j);X.g=N+(X.EX?O.h():O.g);}Y{X.j=A;X.g=N;}},Gb:z(N,O){P(O){X.j=N+(X.EX?O.i():O.j);}Y{X.j=N;}},FQ:z(N,O){P(O){X.g=N+(X.EX?O.h():O.g);}Y{X.g=N;}},i:z(){P(X.s){p(X.s.i()+X.j);}Y{p X.j;}},h:z(){P(X.s){p(X.s.h()+X.g);}Y{p X.g;}},Ks:z(){P(X.s){p(X.s.Ks()+X.j);}Y{R O=K;P(H.Z.BV){O=-H.Z.BV.BP;}p O+X.j;}},Kt:z(){P(X.s){p(X.s.Kt()+X.g);}Y{R O=K;P(H.Z.BV){O=-H.Z.BV.Bm;}p O+X.g;}},Cd:z(N,O){X.l=N;X.q=O;},Cx:z(){p X.l;},CL:z(){p X.q;},Dr:z(F,D){P(X.GA()<L){p m;}P(X.C5){R B=X.i()+X.C5[K],E=X.h()+X.C5[L],N=X.C5[M],C=X.C5[B4];}Y{B=X.i(),E=X.h(),N=X.l,C=X.q;}R O=K;P(N<J0){O=N*K.BB*(L-(N-CF)/DI);}R A=K;P(C<J0){A=C*K.BB*(L-(C-CF)/DI);}B-=O;N+=M*O;E-=A;C+=M*A;P(F>B&&F<B+N&&D>E&&D<E+C){p a;}Y{p m;}},K2:z(){p X.CY?X.CY:(X.s?X.s.K2():K);},Ev:z(){P(X _ H.D1){p X;}Y{P(X.s){p X.s.Ev();}Y{p H.Z.6;}}},setAlpha:z(O){X.Bs=O;},GA:z(){P(X.s){R O=X.s.GA();p((BL(O)?L:O)*X.Bs);}Y{p X.Bs;}},F3:z(){P(BL(X.BC)){P(X.s){p X.s.F3();}Y{p L;}}Y{P(X.s){p(X.s.F3()*X.BC);}Y{p X.BC;}}},FF:z(O,N){X.j+=O;X.g+=N;},eventCheck:z(N,O){P(X.Dr(O.Dm,O.Dl)){p X.0.9(N,O);}Y{p{prevent:m,D8:m};}},$:z(){X.0.$.Ey(X.0,Ba.5.FZ.k(Dp));},Eb:z(){X.0.Eb.Ey(X.0,Ba.5.FZ.k(Dp));},supportMultiTouch:z(){P(!X.Cz){X.Cz=S GestureAnalyser(X.0);X.$("multiGestAdd",S 2(X.Cz.addBlob,X.Cz));X.$("multiGestUpdate",S 2(X.Cz.updateBlob,X.Cz));X.$("multiGestRemove",S 2(X.Cz.removeBlob,X.Cz));}},Cs:z(O){P(X.c){O.c=X.c;}P(X.7){O.7=X.7;}P(X.Ca){O.Ca=X.Ca;}P(X.CT){O.CT=X.CT;}P(X.DU){O.HU=X.DU.HU;O.HV=X.DU.HV;O.D3=X.DU.D3;O.GO=X.DU.GO;}Y{O.HU=O.HV=O.D3=K;}P(X.Bu){O.Bu=X.Bu;}P(X.CW){O.CW=X.CW;}O.Bs=X.GA();},ES:z(N){N.Bz();N.Bv();X.Cs(N);R O=X.F3();P(O!=L){N.BC(O,O);}},Gu:z(O){P(!X.DX){X.DX=S H.Ek(X);}p X.DX.Gu(O);},d:z(O){},o:z(O){},Em:z(){p"[Gx MseUIObject]";}};H.Ga=z(O,B,A,N){H.Z=X;X.BH=C(".Ju");P(X.BH.r==K){X.BH=C(\'<EE Fj="Ju"></EE>\').appendTo("body");}X.BH.BR();R E=(4.C$-B)/M;X.B5(E);X.BC=L;X.Cd(B,A);X.Dz=Ee;X.W=X.BH.E$(K).Ez("FR");X.C_=S H.Hn(X,X.BH);P(4.GJ){X.Iz();X.C_.$("translate2",S H.2(X.Bo,X));}X.6=b;X.BI=m;X.BW=m;X.CA=m;X.CK=S Ba();X.BY=[];R D=C("Ci.G5");X.Cj=S H.Gn();X.Kd=S H.2(X.Im,X);H.B6=S H.GV(X,X.Dz);};H.Ga.5={EZ:H.Ga,i:z(){p X.BH.Ii().BD;},h:z(){p X.BH.Ii().BG;},B5:z(N,O){X.BH.By({BD:"Fi",BG:"Fi"});C("#Z").By({BD:N});},Cd:z(N,O){X.l=N;X.q=O;X.BH.KF({l:N,q:O});C("#Z").By({l:N,q:O});},Iz:z(){R O=4.C$,N=4.D2-4.Iv;X.BV={};X.BV.BP=(X.l-O)/M;X.BV.Bm=(X.q-N)/M;X.B5(K,K);X.BH.KF({l:O,q:N});C("#Z").By({l:O,q:N});X.W.Bo(-X.BV.BP,-X.BV.Bm);},Bo:z(O){P(BL(O.Ip)){p;}X.W.Bo(X.BV.BP,X.BV.Bm);X.BV.BP-=O.Ip;P(X.BV.BP>X.l-4.C$){X.BV.BP=X.l-4.C$;}Y{P(X.BV.BP<K){X.BV.BP=K;}}X.W.Bo(-X.BV.BP,K);X.W.Bv();},Gf:z(O){P(X.6){X.6.8=m;}O.Z=X;X.6=O;X.C_.setDispatcher(O.Ed);X.FW=b;X.6.BC=X.BC;},GY:z(O){P(X.FW){p;}P(X.6){H.Fx(X.6,Ce,S H.2(X.Gf,X,O));X.FW=O;}Y{X.Gf(O);}H.Fs(O,Ce);},Dr:z(N,O){p a;},o:z(O){T(R A Q X.CK){P(X.CK[A].o(O)){X.CK.CU(A,L);}}R N=m;T(A Q X.BY){P(X.BY[A].F_){N=a;}P(X.BY[A].o(O)){X.BY.CU(A,L);}}P(N){p;}P(X.Cj.o(O)){p;}P(X.6){X.6.o(O);}},d:z(){X.W.HN(K,K,X.l,X.q);P(!X.Cj.LA()){P(X.6){X.6.d(X.W);}P(X.FW){X.FW.d(X.W);}}P(X.Cj.3){X.Cj.d(X.W);}T(R O Q X.BY){X.BY[O].d(X.W);}X.C_.C6.9("Du",X.W);},H$:z(O){},EH:z(O){P(!X.BW){R N=H.U.JC();P(N[K]<N[L]){H.U.KV(X.W,N[K],N[L]);}Y{X.BW=a;X.C_.C6.9("loadover");}}Y{P(!X.BI){X.o(O);X.d();}Y{H.B6.BI=a;}}},startCapture:z(O){H.B6.Bt();X.C1=C(\'<Ci Fj="capbody"></Ci>\');X.CM=C(\'<Ci Fj="capbox"></Ci>\');X.BH.Kh(X.CM).Kh(X.C1);X.C1.EM();X.C1.EM("$","JX",X.Kd);P(O _ H.2){X.Hc=O;}},KZ:z(N){R O=X.W.getImageData(N.BP,N.Bm,N.Bl,N.Be);H.Iy("K7");X.C1.HQ();X.CM.HQ();X.C1=X.CM=b;H.B6.Bp();X.Hc.D7(O,N.Bl,N.Be);X.Hc=b;},Im:z(O){P(O.BX=="Jj"){X.KH(O);}Y{P(O.BX=="HS"){X.Jy(O);}Y{P(O.BX=="Hi"){X.Kl(O);}}}},KH:z(O){P(X.C1){X.FV=e.CO(O.Dm);X.FX=e.CO(O.Dl);X.CM.By({BD:X.FV,BG:X.FX});}},Jy:z(O){P(X.C1){X.Fd=e.CO(O.Dm);X.Fe=e.CO(O.Dl);P(X.Fd<X.FV){X.CM.By("BD",X.Fd);}P(X.Fe<X.FX){X.CM.By("BG",X.Fe);}X.CM.By({l:e.KC(X.Fd-X.FV),q:e.KC(X.Fe-X.FX)});}},Kl:z(N){P(X.C1){X.FV=b;X.FX=b;X.Fd=b;X.Fe=b;R C=X.CM.Cw().BD,B=X.CM.Cw().BG,O=X.CM.l(),A=X.CM.q();P(O<Dd||A<Dd){msgCenter.send("Zone de capture trop petit, LF\\xe9essayes");p;}X.KZ({BP:C,Bm:B,Bl:O,Be:A});}},EQ:z(){R O=X.6;p O.EQ();},Bt:z(){P(X.6){R O=m;T(R N Q X.6.y){P(X.6.y[N].Bt!==Gk){X.6.y[N].Bt=a;O=a;}}P(O){X.CA=a;p;}}H.B6.Bt();X.CA=a;p;},Bp:z(){H.B6.Bp();P(X.6){T(R O Q X.6.y){P(X.6.y[O].Bt!==Gk){X.6.y[O].Bt=m;}}}X.CA=m;},Ik:z(){X.C_.C6.9("finished");}};H.D1=z(A,B,N,O){H.1.k(X,b,N);X.DM=B;X.y=S Ba();X.F6=S Ba();X.FJ=b;X.Ed=S H.Gw(X);X.GF=b;X.BC=L;X.KO=K;X.8=m;P(4.CR||4.Cg){X.Bg=4.Bg;X.DY=a;X.G3(O?O:"Hd");}Y{X.DY=a;}P(A){A.Gf(X);}};t(H.D1,H.1);C.t(H.D1.5,{G3:z(O){P(!(4.CR||4.Cg)||(O!="G$"&&O!="Hd")){p;}X.Bg=O;},Gi:z(O){KN=H.Z;P(O==X.Bg){X.DY=a;}Y{X.DY=m;}},EP:z(O,N){P(O!=b&&N _ H.1){N.DM=O;X.y.Bd(N);X.IS();}},I$:z(O){P(O==b){p;}T(R N=X.y.r-L;N>=K;--N){P(X.y[N].DM==O){X.y.CU(N,L);}}},IM:z(O){P(O==b){p;}T(R N Q X.y){P(X.y[N].DM==O){p X.y[N];}}},IS:z(){X.y.sort(z(N,O){P(N.CY<O.CY){p-L;}Y{P(N.CY>O.CY){p L;}Y{p K;}}});},IP:z(O,N){P(O!=b&&X.y[O]!=b){X.y[O].GW(N);}},JK:z(O){T(R N Q X.y){P(X.y[N].Bn&&X.y[N].DM!=O){X.y[N].GW(m);X.F6.Bd(N);}}},Ie:z(){R O=X.F6.r;T(R N=K;N<O;N++){X.y[X.F6.pop()].GW(a);}},EQ:z(){P(X.GF){R O=X.GF.EQ();P(O){p O;}}p{BX:"page",DM:X.DM};},Kx:z(O){P(O.EQ){X.GF=O;}},o:z(O){P(!X.8){X.8=a;X.0.9("BR");T(R N Q X.y){X.y[N].0.9("BR");}}P(4.CR||4.Cg){P(X.DY&&4.Bg!=X.Bg){X.Gi(4.Bg);}Y{P(!X.DY&&4.Bg==X.Bg){X.Gi(4.Bg);}}}P(X.DY){P(X.FJ){X.FJ.o(O);}Y{T(N Q X.y){X.y[N].o(O);}}}X.KO++;},d:z(O){P(X.DY){P(X.FJ){X.FJ.d(O);}Y{X.ES(O);T(R N Q X.y){X.y[N].d(O);}}X.0.9("Du",{W:O});}Y{O.B9(H.U.BS("HB"),(H.Z.l-Gm)/M,(H.Z.q-Dd)/M,Gm,Dd);}},Em:z(){p"[Gx MseBaseContainer]";}});H.Cr=z(N,A,O){H.1.k(X,N,O);X.CY=A;X.Bn=a;X.x=S Ba();};t(H.Cr,H.1);C.t(H.Cr.5,{HR:z(N){P(X.x.C8){R O=X.x.C8(N);}Y{T(R A Q X.x){P(X.x[A]===N){O=A;n;}}}P(O!=b&&O!=-L){p O;}Y{p-L;}},Bh:z(O){P(O _ H.1){X.x.Bd(O);p a;}Y{p m;}},DL:z(N,O){P(N _ H.1&&O>=K&&O<X.x.r){X.x.CU(O,K,N);p a;}Y{p m;}},KJ:z(A,N){R O=X.HR(N);P(O!=-L){X.DL(A,O);}},insertAfter:z(A,N){R O=X.HR(N);P(O!=-L){P(O+L==X.x.r){X.Bh(A);}Y{X.DL(A,O+L);}}},FU:z(N){P(!BL(N)){X.x.CU(N,L);p N;}Y{P(N _ H.1){P(X.x.C8){R O=X.x.C8(N);}Y{T(R A Q X.x){P(X.x[A]===N){O=A;n;}}}P(O!=b&&O!=-L){X.x.CU(O,L);p O;}Y{p m;}}}},delAll:z(){T(R O Q X.x){Dt X.x[O];}X.x.r=K;},getObject:z(O){P(O>=K&&O<X.x.r){p X.x[O];}p b;},delSelf:z(){P(X.s _ H.D1){X.s.I$(X.DM);}},GW:z(O){X.Bn=O;},o:z(O){P(X.Bn){T(R N=K;N<X.x.r;N++){X.x[N].o(O);}}},d:z(O){X.ES(O);T(R N=K;N<X.x.r;N++){X.x[N].d(O);}}});H.HH=z(C,A,D,B,O,N){H.1.k(X,C,A);X.s=C;X.who=D;X.CG=O;X.E8=a;X.Cf={BG:-BB,BD:-CF,G4:BZ,F1:CF};X.J$=N;X.G1=Cy;P(B){X.FS=S H.Br(X,b,B);X.FS.l=X.CG-X.Cf.BD-X.Cf.G4;X.FS.q=X.CG-X.Cf.BG-X.Cf.F1;}X.Fq=CF;X.G2=K;X.HO=K;X.Cu={};X.Gq;X.FC=[];X.BW=m;X.GN=K;X.q=X.Fq;X.E7=K;};t(H.HH,H.1);C.t(H.HH.5,{o:z(O){},d:z(N){P(X.GN<L){p;}R D=X.E8?X.i()+X.Cf.BD:X.i()+X.l-X.CG-X.Cf.BD,C=X.h();P(X.FS){X.FS.d(N,D,C);}Y{N.Bv();N.Dq();N.rect(D,C,X.CG-X.Cf.BD-X.Cf.G4,X.CG-X.Cf.BG-X.Cf.F1);N.7="#278391";N.Gy();N.Bz();}N.Bv();R D=X.i()-BB,C=X.h()+BB,O=X.l+CF,B=X.GN+Cy;P(X.G2<X.HO){A(D,C,O,B,X.CG,X.CG,X.G1,X.E8);}Y{A(D+(X.E8?X.CG:K),C,O-X.CG,B,K,K,X.G1,X.E8);}N.7=X.J$;N.Gy();N.CT=L;N.Ca="HX";N.Bz();z A(J,I,C,B,G,A,H,BE){P(!G||C<G||!A||B<A){G=K;A=K;}P(G==K){A=B;}P(H*M>B||H*M>A||H*M>C){H=e.Fh(B/M,A/M,C/M);}R O=e.Fh(Ce,e.Jv(BB,A/M)),D=e.Fh(H,(A-O)/M),F=DK;N.Dq();P(BE){N.EK(J+G,I+D);N.B_(J+G,I,J+G+H,I);N.u(J+C-H,I);N.B_(J+C,I,J+C,I+H);N.u(J+C,I+B-H);N.B_(J+C,I+B,J+C-H,I+B);N.u(J+H,I+B);P(G!=K){R E=e.Fh(H,(B-A)/M);N.B_(J,I+B,J,I+B-E);N.u(J,I+A+E);N.B_(J,I+A,J+H,I+A);N.u(J+G-H,I+A);N.B_(J+G,I+A,J+G,I+A-D);}Y{N.B_(J+G,I+B,J,I+B-D);}N.u(J+G,I+(A-O)/M+O);N.u(J+G-F,I+(A)/M);N.u(J+G,I+(A-O)/M);N.u(J+G,I+D);N.u(J+G,I+D);}Y{N.EK(J+C-G,I+D);N.B_(J+C-G,I,J+C-G-H,I);N.u(J+H,I);N.B_(J,I,J,I+H);N.u(J,I+B-H);N.B_(J,I+B,J+H,I+B);N.u(J+C-H,I+B);P(G!=K){E=e.Fh(H,(B-A)/M);N.B_(J+C,I+B,J+C,I+B-E);N.u(J+C,I+A+E);N.B_(J+C,I+A,J+C-H,I+A);N.u(J+C-G+H,I+A);N.B_(J+C-G,I+A,J+C-G,I+A-D);}Y{N.B_(J+C-G,I+B,J+C,I+B-D);}N.u(J+C-G,I+(A-O)/M+O);N.u(J+C-G+F,I+(A)/M);N.u(J+C-G,I+(A-O)/M);N.u(J+C-G,I+D);N.u(J+C-G,I+D);}}},Bh:z(O){X.FC.Bd(S H.2(X.K6,X,O));O.0.$("BR",S H.2(X.IV,X,O));O.0.$("E4",S H.2(X.Iq,X,O));O.0.$("BR",X.FC[X.FC.r-L]);P(!X.Gq){X.Gq=O.l;}P(X.Gq==O.l){O.Gb(X.CG);X.G2++;}P(X.Cu.ED){X.Cu.ED.q=X.Cu.Be;}X.Cu.ED=O;X.Cu.Be=O.q;O.q+=(X.q+O.q<X.CG?X.CG+-O.q-X.q:K)+X.Fq;X.s.Bh(O);P(!X.BW){X.BW=a;X.s.FU(X);X.q=X.Fq*M;}X.q+=O.q;},IV:z(){P(X.E7==K){X.s.HF(X);X.0.9("BR");}X.E7++;},Iq:z(){X.E7--;P(X.E7==K){X.s.Ia(X);X.0.9("E4");}},K6:z(O){P(X.Cu.ED){X.Cu.ED.q=X.Cu.Be;X.Cu={};}X.GN+=O.q;X.HO++;O.0.Eb("BR",X.FC.shift());}});H.En=z(B,N,O,C){H.1.k(X,B,N);X.EL=C?a:m;X.BT=[];X.CY=BE.JO.Bw;X.Bw=O;R A=H.Z.W;A.Bv();P(X.EL){A.c=X.c;}Y{P(X.s&&X.s.c){A.c=X.s.c;}Y{A.c=H.FO.IA;}}P(N.BJ){X.BJ=N.BJ;}Y{X.BJ=E5(A.c)*L.M;}P(A.C0(X.Bw).l>X.l){X.CB=IE(X.Bw,A,X.l);X.q=X.BJ*X.CB.r;}Y{X.CB=[X.Bw];}A.Bz();P(X.Bu=="Ch"&&X.l>K){X.j+=e.CO(X.l/M);}X.BN=b;X.8=m;X.CV=m;};t(H.En,H.1);C.t(H.En.5,{Em:z(){p"[Gx Dc.En]";},setText:z(O){X.Bw=O;X.BT.CU(K,X.BT.r);R N=H.Z.W;N.Bv();P(X.EL){N.c=X.c;}Y{P(X.s&&X.s.c){N.c=X.s.c;}Y{N.c=H.FO.IA;}}P(N.C0(X.Bw).l>X.l){X.CB=I1(X.Bw,N,X.l);X.q=X.BJ*X.CB.r;}Y{X.CB=[X.Bw];}N.Bz();},Ew:z(N){R B=m;T(R A Q X.CB){R O=X.CB[A].C8(N.U);P(O>=K){B=a;n;}}P(!B){p;}P(X.BT.r==K){X.$("Hi",S H.2(X.Kg,X),m);}P(N.BX=="Cb"){X.$("8",S H.2(X.Jh,X,N.Cp));}N.owner=X;N.EB=m;X.BT.Bd(N);},J2:z(O){X.EL=a;P(H.JA){X.BN=H.JA(O,X);}},Ha:z(){X.BN=b;},Dr:z(D,B){P(!X.CV){p m;}R N=X.i(),C=X.h(),O=X.Cx(),A=X.CL();P(D>N-K.L*O&&D<N+L.L*O&&B>C-K.L*A&&B<C+L.L*A){p a;}Y{p m;}},Jh:z(O){O.Bp();},Kg:z(O){R D=O.Dm-X.i(),A=O.Dl-X.h();T(R C Q X.BT){R N=X.BT[C];P(D>=N.j-BZ&&D<=N.j+N.l+BZ&&A>=N.g&&A<=N.g+X.BJ+Hw){Cq(N.BX){f"Cb":N.Cp.Bp();n;f"DO":N.Cp.BW(N.U,X.Ev());n;f"GG":B.Kw(linkObj.Cp);n;}n;}}},o:z(O){P(X.BN!=b){X.BN.o(O);}},d:z(B,G,D){P(!X.8){X.8=a;X.CV=a;X.0.9("8");}P(G!=b&&D!=b){X.B5(G,D);}R C=[X.i(),X.h()];P(X.EL){B.Bv();X.Cs(B);}P(X.BN!=b){X.BN.d(B);}Y{T(R F Q X.CB){B.Co(X.CB[F],C[K],C[L]+X.BJ*F);}T(F Q X.BT){R N=X.BT[F];P(!N.EB){T(F Q X.CB){R O=X.CB[F].C8(N.U);P(O>=K){R E=X.CB[F].substring(K,O);N.j=B.C0(E).l;N.g=F*X.BJ;N.l=B.C0(N.U).l;N.EB=a;n;}}}B.Bv();B.7=A[X.BT[F].BX];B.Co(X.BT[F].U,C[K]+X.BT[F].j,C[L]+X.BT[F].g);B.Bz();}}P(X.EL){B.Bz();}X.0.9("Du",{W:B});}});H.Cn=z(B,I,A,O){H.Cr.k(X,B,I,A);X.r=K;X.Dy=X.g;X.Gs=X.Dy;X.BJ=A.BJ?A.BJ:e.CO(L.Cy*(X.c?E5(X.c):16));X.EA=S Ba();P(O){R E=H.Z.W;X.ES(E);R D=e.CN(X.l/E.C0("A").l),N=O.split("\\LE"),F=K;T(R J=K;J<N.r;J++){P(N[J].r==K){X.Bh(S H.1(X,{B3:[X.l,G]}));F++;Gz;}X.EA[J-F]=X.x.r;T(R BE=K;BE<N[J].r;){R C=checkNextLine(E,N[J].IN(BE),D,X.l);X.Bh(S H.En(X,{B3:[X.l,X.BJ],BJ:X.BJ},N[J].IN(BE,C)));BE+=C;}}}X.Ck=K;X.B$=X.x.r-L;X.CP=a;X.Bt=m;X.HL=m;X.F$={};X.F$.DQ=K;X.J9=S H.1();X.Er=b;X.C3=[];P(B){B.Kx(X);}};t(H.Cn,H.Cr);C.t(H.Cn.5,{JN:Jo,Hl:3609,DV:BB,HI:z(O){R N=H.Cn.5;O=e.CN(O);P(O<L||N.JN+O*IJ>N.Hl){p;}N.DV=O;P(DH N.K$=="z"){N.K$("DV",N.DV);}},Km:z(O){p H.Cn.5.Hl-H.Cn.5.DV*IJ;},setDefile:z(O){X.Gh=K;X.Bj=K;X.CP=m;X.B$=K;X.J6();P(w.EY=="debug"){X.I_=z(O){Cq(O.keyCode){f __KEY_LEFT:H.Cn.5.HI(X.DV-L);n;f __KEY_RIGHT:H.Cn.5.HI(X.DV+L);n;}};Jz=S H.2(X.I_,X);X.$("Id",Jz);}},J6:z(){X.Df=S H.FM(X,{},"EO");X.Hg();X.Df.$("Iw",S H.2(z(){P(!X.Bt){X.Bt=a;X.HL=a;}},X));X.Df.$("DR",S H.2(z(){R O=X.CP?X.x.r:X.Bj;P(X.HL&&(O==K||X.x[O-L].h()<H.Z.q*K.55)){X.Bt=m;}},X));},Hu:z(O,N){T(R A Q X.EA){P(X.EA[A]>=O){X.EA[A]+=N;}}},setLinklist:z(N){T(R O Q N){R C=N[O].DC;T(R B=X.EA[C];B<X.EA[C+L];B++){P(!X.x[B].Bw){Gz;}R A=X.x[B].Bw.C8(N[O].U);P(A>=K){N[O].DC=B;X.x[B].Ew(N[O]);n;}}}X.BT=N;},setLinkDelegate:z(O,A){P(!X.BT){p;}T(R N Q X.BT){P(X.BT[N].BX==A){X.x[X.BT[N].DC].$("BR",S H.2(O.linkShowHandler,O,X.BT[N]));X.x[X.BT[N].DC].$("E4",S H.2(O.linkDisapearHandler,O,X.BT[N]));}}},Bh:z(N){R O=X.x.r-L;P(O>=K){N.FQ(X.x[O].q,X.x[O]);}Y{N.FQ(K);}X.r+=N.q;X.B$=X.x.r-L;p H.Cr.5.Bh.k(X,N);},addGame:z(N){P(!N.w.DE){R O=S H.El(X,{B3:[X.l*K.DK,X.l*K.Kp]},N);O.Gb(X.l*K.L);X.Bh(O);}Y{N.s=X;N.$("8",S H.2(N.BQ,N));X.Bh(N);}},KS:z(O){O.s=X;O.$("8",O.Eo);O.$("BF",O.Eo);O.F_=m;X.Bh(O);},DL:z(A,N){R O=X.EZ.5.DL.k(X,A,N);P(!O){p O;}X.Hu(N,L);P(N==K){A.FQ(K);N=L;}T(R B=N;B<X.x.r;B++){X.x[B].FQ(X.x[B-L].q,X.x[B-L]);}X.r+=A.q;p O;},insertGame:z(A,O){P(!A.w.DE){R N=S H.El(X,{B3:[X.l*K.DK,X.l*K.Kp]},A);N.Gb(X.l*K.L);X.DL(N,O);}Y{A.s=X;A.$("8",S H.2(A.BQ,A));X.DL(A,O);}},insertAnimation:z(N,O){N.s=X;N.$("8",N.Eo);N.$("BF",N.Eo);N.F_=m;X.DL(N,O);},FU:z(N){R O=H.Cr.5.FU.k(X,N);P(!BL(O)){X.r-=N.q;X.Hu(O,-L);X.B$=X.x.r-L;}p O;},CL:z(){R O=X.CP?X.x.r:X.Bj;P(O==K){p K;}p X.x[O-L].g+X.x[O-L].q;},HF:z(O){X.C3.Bd(O);},Ia:z(O){T(R N=K;N<X.C3.r;N++){P(X.C3[N]==O){X.C3.CU(N,L);p;}}p-L;},Hg:z(){R B=X.Dy-X.g;B=(B<K?K:B);R O=B+X.q*K.DK,N=X.CP?X.x.r-L:X.Bj-L;N=N<K?K:N;R A=-L,C=-L;P(X.Gs<=B){T(R D=X.Ck;D<=N;D++){P(A==-L&&X.x[D].g+X.x[D].q>B){A=D;}P(C==-L&&X.x[D].g>O){C=D;n;}}A=A==-L?N:A;C=C==-L?N:C;}Y{T(D=X.B$;D>=K;D--){P(C==-L&&X.x[D].g<=O){C=D;}P(A==-L&&X.x[D].g+X.x[D].q<=B){A=D;n;}}A=A==-L?K:A;C=C==-L?K:C;}P(A>X.Ck){T(D=X.Ck;D<A;D++){X.x[D].0.9("E4");P(X.x[D].CV===a){X.x[D].CV=m;}}}Y{P(A<X.Ck){T(D=A;D<X.Ck;D++){X.x[D].0.9("BR");P(X.x[D].CV===m){X.x[D].CV=a;}}}}P(C>X.B$){T(D=X.B$+L;D<=C;D++){X.x[D].0.9("BR");P(X.x[D].CV===m){X.x[D].CV=a;}}}Y{P(C<X.B$){T(D=C+L;D<=X.B$;D++){X.x[D].0.9("E4");P(X.x[D].CV===a){X.x[D].CV=m;}}}}X.Ck=A;X.B$=C;},EQ:z(N){R O=X.x[X.B$];P(X.Bt){R A=X.s.h()+X.s.q/M;T(R C=X.Ck;C<=X.B$;C++){P(X.x[C].h()>=A){O=X.x[C];n;}}}T(R B Q C2){P(O==C2[B]){p{BX:"KL",id:B};}}p m;},o:z(B){P(X.Bn&&X.Er _ H.1){X.Er.o(B);p;}P(X.F$.DQ){X.Df.E1(X.F$);}P(X.Df){X.Hg();}T(R F=X.Ck;F<=X.B$;F++){X.x[F].o(B);}T(F=K;F<X.C3.r;F++){X.C3[F].o(B);}P(X.CP||!X.Bn){X.Gs=(X.Dy-X.g<K?K:X.Dy-X.g);p;}P(!X.Bt){X.Gh+=B;R D=X.x[X.Bj-L],O=X.Km();P(X.Bj!=K){P(D _ H.Br){O=4000;}Y{P(D _ H.FG){O=(D.FP+M)*H.B6.Dz;}}}P(X.Gh>=O){X.Gh=K;P(X.Bj<X.x.r){R C=X.x[X.Bj],A=C.g+C.q/M,N=(C _ H.FG)?Ee:C.q/B4;P(N<BZ){N=BZ;}Y{P(N>Kj){N=Kj;}}P(A>H.Z.q/M){R E=S H.Dh(X,{Bb:[K,N],CI:[[X.j,X.g],[X.j,X.q/M-A]]},L);E.BQ();}X.Bj++;}Y{X.CP=a;H.Z.Ik();}}}X.Gs=(X.Dy-X.g<K?K:X.Dy-X.g);},d:z(O){X.ES(O);T(R N=K;N<X.C3.r;N++){X.C3[N].d(O);}T(N=X.Ck;N<=X.B$;N++){X.x[N].d(O);}P(X.Jt){X.Jt.d(O);}},Dr:z(N,O){p X.s.Dr(N,O);},F7:z(){X.Er=X.J9;},Bp:z(){X.Er=b;}});P(DH JJ!="Gk"){JJ.makeModel(H.Cn.5,["DV"]);}H.Br=z(N,O,A){H.1.k(X,N,O);P(DH A=="FY"){X.V=A;H.U.GK(X.V,S H.2(X.BW,X));}Y{X.BM=A;}X.Fu=m;X.BN=b;X.8=m;};t(H.Br,H.1);C.t(H.Br.5,{BW:z(){R N=H.U.BS(X.V);P(!X.l){X.l=N.l;X.q=N.q;}X.BM=Gg.F8("EE");R O=X.BM.Ez("FR");X.BM.l=X.l;X.BM.Dx.l=X.l;X.BM.q=X.q;X.BM.Dx.q=X.q;O.B9(N,K,K,X.l,X.q);P(X.Fu){X.I2();}},I2:z(){X.Fu=a;P(!X.l){p;}X.C9=S H.Br(X,{CI:[X.l-Ce,K]},"C9");R O=S H.2(z(){P(!(X.Cl _ H.CJ)){X.Cl=H.CJ.D_();}X.Cl.BR(X);},X);X.C9.$("BF",O,a);},J2:z(O){P(!X.BN&&O _ H.EffectImage&&O.subject==X){X.BN=O;X.BN.BW();}},Ha:z(){X.BN=b;},o:z(O){P(!X.8){X.8=a;X.0.9("8");}P(X.BN!=b){X.BN.o(O);}},d:z(N,B,A){R O=(X.BM?X.BM:H.U.BS(X.V));X.Cs(N);P(BL(B)||BL(A)){B=X.i();A=X.h();}P(X.BN!=b&&X.BN.d){X.BN.d(N,O,B,A,X.l,X.q);}Y{N.B9(O,B,A,X.l,X.q);}P(X.Fu){X.C9.d(N);}X.0.9("Du",{W:N,BP:B,Bm:A});},Em:z(){p"[Gx Dc.Br]";}});H.Ge=z(N,O,A){H.1.k(X,N,O);P(A!=b){X.CY=A;}P(O.Ka){X.He=O.Ka;}X.d=z(O){X.Cs(O);P(!X.He){O.Dn(X.i(),X.h(),X.l,X.q);}Y{O.Fm(X.i(),X.h(),X.l,X.q,X.He);}};};H.Ge.5=S H.1();H.Ge.5.EZ=H.Ge;H.GH=z(B,O,C,A,N,G,E,F,D){P(Dp.r==Cy){X.BO=A;}Y{X.CD=A;X.CE=N;P(Dp.r==G6){X.Fb=G;X.Fa=E;X.DB=F;X.DD=D;}Y{X.Fb=K;X.Fa=K;X.DB=X.l;X.DD=X.q;}P(A<X.DB){X.Cm=e.CN(X.DB/A);}Y{X.CD=X.DB;X.Cm=L;}P(N<X.DD){X.EI=e.CN(X.DD/N);}Y{X.CE=X.DD;X.EI=L;}X.KK=X.Cm*X.EI;P(!X.l){X.l=X.CD;}P(!X.q){X.q=X.CE;}}X.FE=K;H.Br.k(X,B,O,C);};t(H.GH,H.Br);C.t(H.GH.5,{BW:z(){X.BM=Gg.F8("EE");X.EN(X.FE);},configSprite:z(N,B,F,D,E,C,A,O){P(!N||!B||BL(F)||BL(D)||!E||!C){p;}X.CD=N;X.CE=B;X.Fb=F;X.Fa=D;X.DB=E;X.DD=C;P(N<X.DB){X.Cm=e.CN(X.DB/N);}Y{X.CD=X.DB;X.Cm=L;}P(B<X.DD){X.EI=e.CN(X.DD/B);}Y{X.CE=X.DD;X.EI=L;}X.KK=X.Cm*X.EI;P(!A){X.l=X.CD;}P(!O){X.q=X.CE;}X.Ha();X.FE=K;X.EN(X.FE);},EN:z(A){P(!X.BM){p;}X.FE=A;R N=H.U.BS(X.V),O=X.BM.Ez("FR");P(X.BO){X.BM.l=X.BO[A][M];X.BM.Dx.l=X.BO[A][M];X.BM.q=X.BO[A][B4];X.BM.Dx.q=X.BO[A][B4];O.B9(N,X.BO[A][K],X.BO[A][L],X.BO[A][M],X.BO[A][B4],K,K,X.BO[A][M],X.BO[A][B4]);}Y{X.BM.l=X.CD;X.BM.Dx.l=X.CD;X.BM.q=X.CE;X.BM.Dx.q=X.CE;R C=X.Fb+(A%X.Cm)*X.CD,B=X.Fa+(e.CN(A/X.Cm))*X.CE;O.B9(N,C,B,X.CD,X.CE,K,K,X.CD,X.CE);}P(X.BN&&X.BN.Ig){X.BN.Ig();}},appendFrames:z(O){P(X.BO){X.BO=X.BO.concat(O);}},appendFrame:z(O){P(X.BO){X.BO.Bd(O);}},drawFrame:z(O,C,D,G){X.Cs(C);P(BL(D)){D=X.i();}P(BL(G)){G=X.h();}R B=H.U.BS(X.V);P(!X.BO){R F=X.Fb+(O%X.Cm)*X.CD,E=X.Fa+(e.CN(O/X.Cm))*X.CE;C.B9(B,F,E,X.CD,X.CE,D,G,X.l,X.q);}Y{R F=X.BO[O][K],E=X.BO[O][L],N=X.BO[O][M],A=X.BO[O][B4];C.B9(B,F,E,N,A,D,G,X.l,X.q);}},d:z(O,N,A){X.Cs(O);P(BL(N)){N=X.i();}P(BL(A)){A=X.h();}P(X.BM){P(X.BN!=b&&X.BN.d){X.BN.d(O,X.BM,N,A,X.l,X.q);}Y{O.B9(X.BM,N,A,X.l,X.q);}}X.0.9("Du",{W:O,BP:N,Bm:A});}});H.GU=z(O){P(4.CR){X.B5(K,K);X.Cd(Ky,Kz);}Y{P(4.Cg){X.B5(K,K);X.Cd(Ky,Kz);}Y{X.j=K;X.g=K;X.q=e.CO(K.LH*H.Z.q);X.l=e.CO(X.q*Cy/B4);}}H.1.k(X,b,O);X.w={DF:m,DE:m,Fw:m,K4:"Jeu"};X.Bc={FA:m,B8:K,IZ:K};P(O){X.w.Fw=O.Fw?a:m;}X.Hk(H.Z.C_);};t(H.GU,H.1);C.t(H.GU.5,{BU:"I7",De:{I7:"C\'est un jeu, sans message......"},Hj:z(){p X.De[X.BU];},JR:z(O){X.Bc.B8=e.CN(O);},setHighScore:z(O){X.Bc.IZ=O;},Hk:z(O){P(O _ H.Hn||O _ H.Gw||O _ H.GB){X.JF=O;}},getEvtProxy:z(){p X.JF;},JZ:z(O){X.IG=O;X.w.DF=a;},setDirectShow:z(O){X.w.DE=O;},addTo:z(O){X.s=O;X.B5(K,K);X.Cd(O.Cx(),O.CL());O.Bh(X);},BQ:z(){H.Z.C_.K_(X);P(!X.w.DE){H.Z.Cj.Jg(X);}Y{X.BW();}X.0.9("BQ");},Ev:z(){P(!X.w.DE){p H.Z.Cj;}Y{p X.s.Ev();}},d:z(O){},BI:z(){X.Ko();H.Z.C_.K_(b);P(!X.w.DE){H.Z.Cj.BI();}P(X.IG){X.IG.Jk();}},FA:z(){X.Bc.FA=a;P(X.w.DF&&!X.w.DE){H.Z.Cj.H2();}X.0.9("BI");},lose:z(){X.Bc.FA=m;P(!X.w.DE){H.Z.Cj.H2();}X.0.9("BI");},BW:z(){},Il:z(){},Ko:z(){}});H.Gn=z(){X.BH=C("EE.C7");X.W=X.BH.E$(K).Ez("FR");X.6=C("#game_container");X.Bc=X.6.Fk("#game_result");X.6.Fk("#JW").EG("BF",{Cv:X},z(O){O.Db.Cv.BQ();});X.Bc.C4("V").EG("BF",{Cv:X},z(O){P(w.EY=="FL"){JL.I9(O.Db.Cv.3);}});X.6.Fk("#JW").EG("BF",{Cv:X},z(O){O.Db.Cv.BQ();});X.6.Fk("#game_quit").EG("BF",{Cv:X},z(O){O.Db.Cv.3.BI();});X.6.C4(".EV").EG("BF",{Cv:X},z(O){O.Db.Cv.3.BI();});X.Ed=S H.Gw(X);X.DP=S H.Hn(X,X.BH,X.Ed);X.3=b;X.BU="Hq";X.8=m;};H.Gn.5={contructor:H.Gn,IL:CF,IW:Ei,$:z(){X.DP.C6.$.Ey(X.DP.C6,Ba.5.FZ.k(Dp));},Eb:z(){X.DP.C6.Eb.Ey(X.DP.C6,Ba.5.FZ.k(Dp));},9:z(){X.DP.C6.9.Ey(X.DP.C6,Ba.5.FZ.k(Dp));},LA:z(){P((4.CR||4.Cg)&&X.BU=="Gl"&&X.3&&X.3.w.DF){p a;}Y{p m;}},HM:z(O){P(!(4.CR||4.Cg)&&O){X.6.EF("Jd");X.6.C4("Dw").Bw(X.3.w.K4);}Y{X.6.Fg("Jd");}},KI:z(){P(X.BU=="Hq"){p;}R N=X.3.w.DF?X.IL:L.BB,O=X.3.w.DF?X.IW:L.BB;P(BL(X.3.JI)){X.BD=(4.CR||4.Cg)?K:e.CO(4.C$-X.l)/M-N;}Y{X.BD=H.Z.i()+X.3.JI-(H.Z.BV?H.Z.BV.BP:K)-N;}P(BL(X.3.JG)){X.BG=(4.CR||4.Cg)?K:e.CO(4.D2-X.q)/M-O;}Y{X.BG=H.Z.h()+X.3.JG-(H.Z.BV?H.Z.BV.Bm:K)-O;}X.6.By({BD:X.BD,BG:X.BG,l:X.l,q:X.q});},Hx:z(O){P(!O||!(O _ H.GU)){p;}X.3=O;X.3.Hk(X.DP);X.8=m;X.BU="JE";P(O.w.DF){X.HM(a);}Y{X.HM(m);}X.BH.E$(K).l=X.3.l;X.BH.E$(K).q=X.3.q;X.l=X.3.l;X.q=X.3.q;X.KI();X.6.Fg("Bn");},BQ:z(){P(!X.3){p;}X.Bc.EF("Bn");X.3.JR(K);X.3.BW();X.BU="Gl";},Jg:z(O){X.Hx(O);X.BQ();},H2:z(){R O=X.3.Bc.FA;H.U.BS("JU").Bp();P(!O){X.BU="I0";}Y{X.BU="I6";}P(X.3.Kq){X.Bc.C4("Dv").C4("Dk").Ja("HJ",w.base_url+"games/"+X.3.Kq);}X.Bc.Fg("Bn");P(X.3.Bc.B8<=K){X.Bc.C4("Jr").Ku("<Ft>"+X.3.Bc.B8+"</Ft> F5    ");}Y{X.Bc.C4("Jr").Ku("HG! <Ft>"+X.3.Bc.B8+"</Ft> F5    ");}},BI:z(){X.Bc.EF("Bn");X.6.EF("Bn");X.BU="Hq";H.U.BS("KQ").Bp();},o:z(O){P(X.BU!="Gl"&&X.BU!="JE"){p m;}Y{P((4.CR||4.Cg)&&4.Bg!="G$"){p a;}Y{X.3.o(O);}}p a;},d:z(){X.W.HN(K,K,X.l,X.q);P(X.3.w.Fw){X.W.7="#DN";X.W.Dn(K,K,X.l,X.q);}P(X.3.w.DF&&(4.Cg||4.CR)&&4.Bg!="G$"){X.W.B9(H.U.BS("HB"),(X.l-Gm)/M,(X.q-Dd)/M,Gm,Dd);}Y{P(X.BU=="Gl"||X.BU=="I0"||X.BU=="I6"){P(!X.8){X.8=a;P(X.3.w.DF){X.9("8");P(4.CR||4.Cg){X.3.Il();}}}X.3.d(X.W);}}}};H.El=z(N,O,A){H.1.k(X,N,O);X.8=m;X.C7=A;X.C7.JZ(X);X.De="";X.DT=S Ba();P(!X.c){X.c="JV Es";}X.BJ=e.CO(L.M*E5(X.c));X.$("8",S H.2(N.F7,N));X.Jf=S H.2(X.Kn,X);X.Gv=m;X.B8="Gk";X.Eu=K;X.FH=K;X.GQ=K;X.Ct=DW;X.FK=J5;X.Cc=K;X.DZ=K;X.BC=L;};t(H.El,H.1);C.t(H.El.5,{Kn:z(N){R B=N.Dm-X.i(),A=N.Dl-X.h()-BZ;P(X.Gv){P(B>X.Cc&&B<X.Cc+X.Ct*X.BC&&A>X.DZ+Gr*X.BC&&A<X.DZ+X.FK*X.BC){X.C7.BQ();}Y{P(B>X.Cc+Hh*X.BC&&B<X.Cc+X.Ct*X.BC&&A>X.DZ&&A<X.DZ+Ee*X.BC){P(w.EY=="FL"){JL.I9(X.C7);}}}}Y{X.Gv=a;X.Cc=(X.l-X.Ct)/M;X.DZ=(X.q-B2-X.FK)/M;P(X.Cc<K){X.Cc=K.L*X.l;R O=DK*X.Cc*J5/DW;X.DZ=(X.q-B2-O)/M;X.BC=DK*X.Cc/X.Ct;}X.C7.BQ();}},Jk:z(){P(X.s.Bp){X.s.Bp();}},o:z(){P(!X.8){X.8=a;X.0.9("8");X.$("BF",X.Jf,a);}P(X.De!=X.C7.Hj()){X.De=X.C7.Hj();X.DT.CU(K,X.DT.r);P(H.Z.W.C0(X.De).l>X.l){X.DT=IE(X.De,H.Z.W,X.l);}Y{X.DT.Bd(X.De);}}},d:z(A){A.Bv();A.Bo(X.i(),X.h()+BZ);A.7="#DN";A.Dn(K,K,X.l,X.q-B2);A.Ca="Dj(Hb,Hb,Hb)";A.CT=BB;A.IQ(K,-M.BB,X.l,X.q-B2);A.CT=L;P(X.Gv){A.Bu="Ch";A.CW="F1";A.c="32px Fp";A.Bo(X.Cc,X.DZ);A.BC(X.BC,X.BC);A.7="#D0";A.Ca="#DN";A.Dn(K,K,X.Ct,X.FK);A.IQ(K,K,X.Ct,X.FK);A.7="#DN";A.B9(H.U.BS("KW"),Hh,BB,B2,B2);A.Dq();A.EK(K,Ee);A.u(DW,Ee);A.HA();R N=X.C7.Bc.B8;P(X.B8!=N){X.B8=N;A.c="Hr IF";X.FH=X.B8<=K?K:A.C0("HG! ").l;R O=A.C0(" F5    ").l;A.c="Io Fp";X.GQ=A.C0(X.B8).l;X.Eu=(X.Ct-X.FH-X.GQ-O)/M;}A.Bu="BD";A.c="Hr IF";P(X.B8>K){A.Co("HG! ",X.Eu,Hv);}A.Co(" F5    ",X.Eu+X.FH+X.GQ,Hv);A.c="Io Fp";A.7="Dj(K5, Js, K)";A.Co(X.B8,X.Eu+X.FH,Ee);A.Bu="Ch";A.c="Hr IF";A.7="#DN";A.Co("Am\\xe9liore ton B8 !",X.Ct/M,Dd);A.7="#666";A.Dn(K,Gr,DW,B2);A.Dq();A.EK(K,Gr);A.u(DW,Gr);A.HA();A.c="J1 Fp";A.7="Dj(K5, Js, K)";A.Co("REJOUER",X.Ct/M,118);}Y{A.c=X.c;A.CW="BG";A.Bu="Ch";A.7="#D0";R C=(X.q-B2-X.DT.r*X.BJ)/M;T(R B=K;B<X.DT.r;B++){A.Co(X.DT[B],X.l/M,C+B*X.BJ);}A.Bz();A.Bv();P(X.Ji){X.Ji.d(A);}}A.Bz();X.0.9("Du",{W:A});}});H.FM=z(A,N,O,C,B){P(!B){B=A.s?A.s:H.Z.6;}H.1.k(X,B,N);P(B.EP){B.EP("Df",X);}Y{P(B.Bh){B.Bh(X);}}X.7="rgba(Hh,152,159, K.IO)";X.BA=A;P(!C){C=K;}X.Fz=m;X.Gp=K;X.Bs=K;P(O=="Is"){X.Bg="Is";X.B5(X.BA.i(),X.BA.h()+X.BA.CL()+C);X.Cd(X.BA.Cx(),CF);X.Bq=K;X.r=X.l;}Y{X.Bg="EO";X.B5(X.BA.i()+X.BA.Cx()+C,X.BA.h());X.Cd(CF,X.BA.CL());X.Bq=K;X.r=X.q;}X.KA=S H.2(X.E1,X);X.KY=S H.2(X.IT,X);X.BA.$("HS",X.KY,m);P(!4.GJ){X.BA.$("mousewheel",X.KA,m);}};t(H.FM,H.1);C.t(H.FM.5,{BR:z(){H.Fs(X,Cy);X.Fz=a;X.0.9("BR");},DR:z(){P(X.Bs==L){H.Fx(X,Cy);}X.Fz=m;X.0.9("DR");},E1:z(O){P(X.Bs==K){X.BR();}X.Gp=K;P(X.Bg=="EO"){X.BA.g+=O.DQ;P(X.BA.g>DI||X.BA.g+X.BA.CL()<X.BA.s.CL()/M){X.BA.g-=O.DQ;}}Y{X.BA.j+=O.DQ;P(X.BA.j>DI||X.BA.j+X.BA.Cx()<X.BA.s.Cx()/M){X.BA.j-=O.DQ;}}X.0.9("Iw",O.DQ);},IT:z(O){P(O.Ff.r>Cy){O.DQ=O.Dg[O.Dg.r-L]-O.Dg[O.Dg.r-M];X.E1(O);}},o:z(N){P(X.Fz){X.Gp+=N;P(X.Gp>Jo){X.DR();p;}P(X.Bg=="EO"){R B=X.BA.s.CL(),O=X.BA.CL(),A=-X.BA.g;}Y{B=X.BA.s.Cx(),O=X.BA.Cx(),A=-X.BA.j;}X.r=B*B/O;X.Bq=B*A/O;P(X.Bq+X.r>B-B2){X.r=B-X.Bq-B2;}Y{P(X.Bq<K){X.r=X.r+X.Bq;X.Bq=K;}}}},d:z(N){P(X.Bs==K){p;}N.Bv();X.Cs(N);N.Bo(X.i(),X.h());N.Dq();P(X.Bg=="EO"){R O=X.l/M;N.Go(O,X.Bq+O,O,K,e.CX,a);N.u(K,X.Bq+X.r-O);N.Go(O,X.Bq+X.r-O,O,e.CX,M*e.CX,a);N.u(X.l,X.Bq+O);}Y{O=X.q/M;N.Go(X.Bq+O,O,O,L.BB*e.CX,K.BB*e.CX,m);N.u(X.Bq+IX-O,K);N.Go(X.Bq+IX-O,O,O,K.BB*e.CX,L.BB*e.CX,m);N.u(X.Bq+O,X.q);}N.Gy();N.Bz();}});H.Gj=z(B,O,D,A,N,C){H.1.k(X,B,O);X.Hs=D;X.V=A;X.IU(N,C);};t(H.Gj,H.1);C.t(H.Gj.5,{JB:z(){B.Kw(X.Cp);},IU:z(O,N){P(O){X.Cp=O;}P(N=="F4"){X.$("BF",S H.2(X.JB,X),a);}},d:z(N,D,B){X.Cs(N);N.7="Dj(II,II,II)";N.Bu="Ch";N.CW="middle";P(D==b){R A=X.i(),C=X.h();}Y{A=D,C=B;}R O=H.U.BS(X.V);P(O){N.B9(O,A,C,X.l,X.q);}P(X.Hs){N.Co(X.Hs,A+X.l/M,C+X.q/M);}}});H.CH=z(A,N,O){H.1.k(X,A,N);X.y=S Ba();X.Ed=S H.Gw(X);X.FT=O;P(O){X.EP("FT",O);}X.CQ=[BZ,BZ,BZ,BZ];X.D5=randomInt(Ce)-CF;X.GS=X.l-X.CQ[L]-X.CQ[B4];X.KP=X.q-X.CQ[K]-X.CQ[M];};t(H.CH,H.D1);Dt H.CH.5.G3;Dt H.CH.5.Gi;Dt H.CH.5.o;Dt H.CH.5.IP;Dt H.CH.5.JK;Dt H.CH.5.Ie;C.t(H.CH.5,{d:z(O){P(!X.FT){X.G0(O,X.i(),X.h());}},G0:z(O,A,N){O.7="Dj(252,IH,242)";O.GO="HX";O.D3=CF;O.Fm(A,N,X.l,X.q,Ce);O.D3=K;},IR:z(BE,G){R E=X.i()+X.l/M,H=X.h()+X.q/M,N=BE-E,A=G-H,B=X.D5*e.CX/DW,O=e.sin(B),F=e.cos(B),D=N*F+A*O,C=-N*O+A*F;p[E+D,H+C];}});H.Eq=z(C,N,O,B,A){H.CH.k(X,C,N,O);P(B&&H.U.BS(B)){X.V=B;X.G7=A;}H.U.GK(X.V,S H.2(X.BW,X));};t(H.Eq,H.CH);C.t(H.Eq.5,{Jl:Hv,setImage:z(N,O){P(N&&H.U.BS(N)){X.V=N;X.G7=O;}},BW:z(){R B=X.GS,N=X.q-X.CQ[K]-X.CQ[M]-X.Jl,C=H.U.BS(X.V),D=B/C.l,E=N/C.q,A=(D<E)?D:E;X.D4=C.l*A;X.FN=C.q*A;X.Ea=X.CQ[B4]+(B-X.D4)/M;X.Ec=X.CQ[K]+(N-X.FN)/M;X.C9=S H.Br(X,{CI:[X.Ea+X.D4-Hw-BB,X.Ec+BB],B3:[Ce,Ce]},"C9");R O=S H.2(z(){P(!(X.Cl _ H.CJ)){X.Cl=H.CJ.D_();}X.Cl.BR(X);},X);X.C9.$("BF",O,a);},d:z(O){O.Bv();O.Bo(X.i()+X.l/M,X.h()+X.q/M);O.FD(X.D5*e.CX/DW);O.Bo(-X.l/M,-X.q/M);T(R N Q X.y){X.y[N].d(O);}P(!X.FT){X.G0(O,K,K);}P(!X.V){p;}O.GO="HX";O.D3=IO;O.B9(H.U.BS(X.V),X.Ea,X.Ec,X.D4,X.FN);X.C9.d(O,X.Ea+X.D4-Hw-BB,X.Ec+BB);O.D3=K;O.c="italic 12px Es";O.CW="BG";O.Bu="Ch";O.7="#DN";O.Hm(X.G7,X.Ea+X.D4/M,X.Ec+X.FN+BB,X.GS,BZ);O.Bz();}});H.GR=z(N,O){H.1.k(X,N,O);P(!X.c){X.c="14px Es";}P(!X.Bu){X.Bu="BD";}P(!X.7){X.7="#DN";}X.CW="BG";X.D9=S Ba();X.r=K;};t(H.GR,H.1);C.t(H.GR.5,{H6:-B4.BB,Fr:BB,Fo:Ef,BJ:Hy,E_:z(C,A,N){P(DH A!="FY"||DH N!="FY"){p;}Cq(C){f"Bw":R O=N;n;f"Cp":O=S H.Gj(X,{CI:[BZ,X.r+X.Fr+X.BJ],B3:[Dd,X.BJ],c:X.c,7:"#D0"},"Lien","ID",N,"F4");n;}X.D9.Bd([C,A,O]);X.ES(H.Z.W);R B=I1(A,H.Z.W,X.l).r;B+=IE(N,H.Z.W,X.l-BZ).r;B=B*X.BJ+X.Fr+X.Fo;X.r+=B;},CL:z(){p X.r;},d:z(O){O.Bv();O.Bo(X.j,X.g);X.Cs(O);O.lineCap="CO";R N=K;T(R A=K;A<X.D9.r;A++){O.c="bold "+X.c;N+=O.Hm(X.D9[A][L],K,N,X.l,X.BJ)+X.Fr;O.Dq();O.EK(K,N+X.H6);O.u(X.l,N+X.H6);O.HA();O.c=X.c;Cq(X.D9[A][K]){f"Bw":N+=O.Hm(X.D9[A][M],BZ,N,X.l-BZ,X.BJ)+X.Fo;n;f"Cp":X.D9[A][M].d(O,BZ,N);N+=X.BJ+X.Fo;n;}}O.Bz();}});H.H_=z(A,N,O){H.CH.k(X,A,N,O);X.B1=S H.GR(X,{CI:[X.CQ[B4],X.CQ[K]],B3:[X.GS,X.KP]});X.EP("B1",X.B1);X.Df=S H.FM(X.B1,{},"EO");X.Df.B5(X.l-X.CQ[L],K);};t(H.H_,H.CH);C.t(H.H_.5,{E_:z(N,O){X.B1.E_("Bw",N,O);},Ew:z(O,N){X.B1.E_("Cp",O,N);},d:z(O){O.Bv();O.Bo(X.i()+X.l/M,X.h()+X.q/M);O.FD(X.D5*e.CX/DW);O.Bo(-X.l/M,-X.q/M);P(!X.FT){X.G0(O,K,K);}T(R N Q X.y){X.y[N].d(O);}O.Bz();}});H.I5=z(){X.GT=[];X.GZ=a;};C.t(H.I5.5,{cardw:IH,cardh:320,DR:z(){H.U.BS("Kb").Bp();P(X.EJ){X.EJ.DR();P(X.GZ){H.Z.Bp();Ds.If();}R O=m;Ds.Ch.C4().each(z(){P(C(X).Jm("BR")){O=a;}});P(!O){Ds.Ch.EF("BR");}}},BW:z(O,N){H.U.BS("JP").Bp();X.EJ=S Ds.Gallery(C("#DO"),O,b,X.GT);P(!Ds.Ch.Jm("BR")){Ds.Ch.Fg("BR");}X.EJ.BR();X.EJ.BH.siblings().EF("BR");R A=X.EJ.BH.Fk(".EV");A.Hp("BF").EG("BF",{DO:X},z(O){O.Db.DO.DR();});P(H.Z.CA){X.GZ=m;}Y{X.GZ=a;H.Z.Bt();Ds.If();}},addImage:z(A,N){R O=C(\'<Ci Fj="imagecard"></Ci>\');X.GT.CU(K,K,O);H.U.GK(A,S 2(z(){O.Ep(\'<V U="\'+H.U.BS(A).U+\'"><Dv>\'+N+"</Dv>");},X));},addTextCard:z(){R O=C(\'<Ci Fj="textcard"></Ci>\');X.GT.CU(K,K,O);X.HC=O;O.E_=z(A,N){O.Ep("<Dw>"+A+"</Dw><Dv>"+N+"</Dv>");};O.Ew=z(N,A){O.Ep(\'<Jq><Dk HJ="\'+A+\'" v="KX">\'+N+"</Dk></Jq>");};},addExplication:z(N,O){X.HC.Ep("<Dw>"+N+"</Dw><Dv>"+O+"</Dv>");},Ew:z(O,N){X.HC.Ep("<Dw>"+O+\'</Dw><Dk HJ="\'+N+\'" v="KX">\'+N+"</Dk>");},dragStart:z(O){T(R B=X.x.r-L;B>=K;B--){R A=X.x[B],N=A.IR(O.Dm,O.Dl);P(A.Dr(N[K],N[L])){O.Dm=N[K];O.Dl=N[L];P(!A.Ed.dispatch("BF",O)){X.Gt=A;}p;}}X.DR();},dragMove:z(O){P(!X.Gt){p;}R N=O.Ff[O.Ff.r-L]-O.Ff[O.Ff.r-M],A=O.Dg[O.Dg.r-L]-O.Dg[O.Dg.r-M];X.Gt.FF(N,A);},dragEnd:z(O){X.Gt=b;}});H.H4=z(N,O,A){H.1.k(X,N,O);X.IY=A;X.$("BF",S H.2(X.K3,X),a);};t(H.H4,H.1);C.t(H.H4.5,{K3:z(){H.Z.G5.Hx(IY);H.Z.G5.Fg("video_active");},d:z(O){O.Bv();O.7="#DN";O.Ca="#D0";O.CT=Cy;O.Bo(X.i(),X.h());O.I8(K,K,X.l,X.q,BB);O.Fm(K,K,X.l,X.q,BB);O.Dq();O.EK(X.l/M-Gd,X.q/M-Ce);O.u(X.l/M+Gd,X.q/M);O.u(X.l/M-Gd,X.q/M+Ce);O.u(X.l/M-Gd,X.q/M-Ce);O.7="#D0";O.Gy();O.Bz();X.0.9("Du",{W:O});}});H.Ek=z(O,N){P(!(O _ H.1)){F0.Fl("Ek creation Fl: v Ht F9 Dk 1");p;}H.1.k(X);X.v=b;X.DX=S Ba();X.j=K;X.g=K;X.l=K;X.q=K;X.Hf=S H.2(X.BF,X);P(N){X.Gu(N);}X.JS(O);P(!X.EB){X.J_();}};t(H.Ek,H.1);C.t(H.Ek.5,{EB:m,J_:z(){R O="./HK/";P(w.EY=="FL"){O="assets/V/season13/story/";}H.U.B0("HE",O+"HE.DS","V",a);H.U.B0("HT",O+"HT.DS","V",a);H.Ek.5.EB=a;},Gu:z(O){P(O.B1!=b&&O.E9!=b&&O.date!=b){X.DX.Bd(O);}p{BP:X.v.i()+X.j,Bm:X.v.h()+X.g};},Kk:z(B){R A,N,O,C;P(B _ H.En){A=B.l;N=K;C=B.q;O=C*B2/Gc;}Y{P(B _ H.Br){A=B.l-Kr;N=B.q-B2;C=Gc;O=B2;}Y{P(B _ H.El){A=B.l;N=K;C=Gc;O=B2;}Y{A=B.l-Kr;N=CF;C=Gc;O=B2;}}}p[A,N,O,C];},JS:z(C){P(!(C _ H.1)){p;}X.v=C;P(C _ H.D1){R B,N,E,A;B=C.IM("JQ");P(B){B.Bh(X);}Y{N=K;T(E=K;E<C.y.r;E++){A=C.y[E];P(A.CY>N){N=A.CY;}}B=S H.Cr(C,N+L,{B3:[H.Z.l,H.Z.q]});B.Bh(X);C.EP("JQ",B);}X.s=B;}Y{P(C.s _ H.Cn){R O=C.s;O.HF(X);X.s=O;}}P(X.v){X.0.Eb("BF",X.Hf);}X.0.$("BF",X.Hf,a);X.v=C;R D=X.Kk(C);X.HY=D[K];X.HZ=D[L];X.l=D[M];X.q=D[B4];X.j=C.j+X.HY;X.g=C.g+X.HZ;},d:z(O){P(X.DX.r==L){O.B9(H.U.BS("HE"),X.i(),X.h(),X.Bl,X.Be);}Y{P(X.DX.r>L){O.B9(H.U.BS("HT"),X.i(),X.h(),X.Bl,X.Be);}}},BF:z(O){},showComments:z(){},closeComments:z(){}});H.CJ=z(){P(H.CJ.D_()){p H.CJ.D_();}X.v=m;X.6=C("#Cl");X.V=C("#Cl #theImage");X.Bk=C("#Cl Ci");X.GE=C("#Cl #J7");X.V.BF(z(O){O.KM();O.stopPropagation();});P(4.GJ&&X.6.r>K){X.GE.HQ();X.Bk.By("overflow","hidden");X.Bk.EM();X.Bk.EM("$","BC",S 2(X.BC,X));X.V.EM();X.V.EM("$","Bo",S 2(X.FF,X));}R O=X;H.CJ.D_=z(){p O;};};H.CJ.D_=z(){p m;};H.CJ.5={JT:B4,Kf:L,Ic:z(O){P(!(O _ H.Br)&&!(O _ H.Eq)){F0.Fl("The v KL Ht F9 an instance of Dc.Br KE Dc.Eq");p;}X.v=O;X.Jw=H.U.BS(X.v.V).getAttribute("U");X.V.Ja("U",X.Jw);p X;},IB:z(){P(!X.v){p;}R O={};P(X.v _ H.Br){O.BP=H.Z.BH.Cw().BD+X.v.i();O.Bm=H.Z.BH.Cw().BG+X.v.h();O.Bl=X.v.Cx();O.Be=X.v.CL();O.D5="FD(0deg)";}Y{O.BP=H.Z.BH.Cw().BD+X.v.i()+X.v.Ea;O.Bm=H.Z.BH.Cw().BG+X.v.h()+X.v.Ec;O.Bl=X.v.D4;O.Be=X.v.FN;O.D5="FD("+X.v.D5+"deg)";}p O;},BR:z(N){X.Ic(N);P(!X.v){p;}X.6.Hp("BF");X.GE.Hp("BF");X.6.BF({Jx:X},X.EV);X.GE.BF({Jx:X},X.EV);R E=X.IB();X.V.By({BD:"Fi",BG:"Fi",q:"DI%",l:"DI%"});X.Bk.By({l:E.Bl+"Bi",q:E.Be+"Bi",BG:E.Bm+"Bi",BD:E.BP+"Bi"});P(4.D2<4.C$){R O=E.Bl/E.Be,D=K.DK*4.D2,C=D*O,B=H.Z.l/M-C/M;}Y{O=E.Be/E.Bl,C=K.DK*4.C$,D=C*O,B=4.C$/M-C/M;}X.Bk.Db("Kc",{Be:D,Bl:C,BP:X.Bk.Cw().BD,Bm:X.Bk.Cw().BG,BC:L});X.Bk.KT({q:D+"Bi",l:C+"Bi",BG:"Fi",BD:B+"Bi"});X.6.fadeIn(I4);R A=X.v.s;P(A.F7){A.F7();}},EV:z(O){O.KM();R N=H.CJ.D_(),A=N.IB();N.6.C4("Ci").KT({q:A.Be+"Bi",l:A.Bl+"Bi",BG:A.Bm+"Bi",BD:A.BP+"Bi"});N.6.fadeOut(I4,z(){R O=N.v.s;P(O.Bp){O.Bp();}});},BC:z(N){R A=X.Bk.l()*X.JT,O=X.Bk.l()*X.Kf,D=X.Bk.Db("Kc"),F=N.BC;P(F*D.Bl>=A||F*D.Bl<=O){p;}P(N.BX=="scaleEnd"){D.Bl=X.V.l();D.Be=X.V.q();p;}R E=X.V.Cw(),C=X.Bk.l(),H=X.Bk.q(),B=D.Bl*F,G=D.Be*F,I=E.BD-(B-X.V.l())/M,BE=E.BG-(G-X.V.q())/M;P(I>K){I=K;}Y{P(I<C-B){I=C-B;}}P(BE>K){BE=K;}Y{P(BE<H-G){BE=H-G;}}X.V.By({l:B+"Bi",q:G+"Bi",BG:BE+"Bi",BD:I+"Bi"});},FF:z(O){R A=X.V.l(),N=X.V.q(),D=X.Bk.l(),C=X.Bk.q(),B=X.V.Cw(),F=B.BD+O.HY,E=B.BG+O.HZ;P(F>K){F=K;}P(F<D-A){F=D-A;}P(E>K){E=K;}P(E<C-N){E=C-N;}X.V.By({BG:E+"Bi",BD:F+"Bi"});}};H.GV=z(B,N,O,A){P(!B.H$||!B.EH){p b;}X.U=B;P(N>K){X.Di=a;X.Dz=KU;X.r=A!=b?A:K;}Y{P(!O _ Ba){p b;}X.Di=m;X.E0=O;X.r=O.r;}X.U.H$(X);X.GI=m;X.H9=K;X.Bj=K;X.BI=m;X.CA=a;X.CS=b;};H.GV.5={EZ:H.GV,DA:z(){H.B6.JD();},BQ:z(){P(X.BI||X.CA){X.H9=K;X.Bj=K;X.BI=m;X.CA=m;X.U.EH();H.B6=X;P(X.Di){X.CS=D6(X.DA);}Y{X.CS=Eg(X.DA,X.E0[X.Bj]);}}},JD:z(){P(X.BI){P(X.Di){clearInterval(X.CS);}Y{GD(X.CS);}p;}P(X.CA){p;}X.H9+=X.Di?X.Dz:X.E0[X.Bj];X.Bj++;P(X.r==K||X.Bj<r){P(!X.Di){X.CS=Eg(X.DA,X.E0[X.Bj]);X.U.EH(X.E0[X.Bj-L]);}Y{X.CS=D6(X.DA);P(4.iOS){P(X.GI){X.U.EH(X.Dz);}X.GI=!X.GI;}Y{X.U.EH(X.Dz);}}}Y{X.BI=a;}},playpause:z(){P(X.BI){p;}X.CA=!X.CA;P(!X.CA){P(H.B6!=X){H.B6=X;}P(X.Di){X.CS=D6(X.DA);}Y{X.CS=Eg(X.DA,In);}}},Bp:z(){P(X.BI){p;}X.CA=m;P(H.B6!=X){H.B6=X;}P(X.Di){X.CS=D6(X.DA);}Y{X.CS=Eg(X.DA,In);}},Bt:z(){P(X.BI){p;}X.CA=a;}};H.H5=z(N,O,B,A){P(!O _ Ba||!N _ H.GH){p b;}X.H3=N;X.FB=O;X.G8=BL(B)?L:B;X.FI=BL(A)?K:A;X.Bn=m;X.0=S H.GB();};H.H5.5={EZ:H.H5,BQ:z(){X.Bx=K;X.Fv=L;X.GP=X.FI;X.Bn=a;X.0.9("BQ");T(R O Q H.Z.CK){P(H.Z.CK[O]==X){p;}}H.Z.CK.Bd(X);X.H3.EN(X.FB[X.Bx]);},stop:z(){X.Bx=K;X.Fv=K;X.Bn=m;X.0.9("BI");},o:z(O){P(!X.Bn){p m;}P(X.Bx<X.FB.r){P(X.FI!=K){P(X.GP==K){X.Bx++;X.GP=X.FI;}X.GP--;}Y{X.Bx++;}}P(X.Bx>=X.FB.r){P(X.Fv<X.G8||X.G8==K){X.Fv++;X.Bx=K;}Y{X.Bn=m;X.0.9("BI");p a;}}X.H3.EN(X.FB[X.Bx]);p m;}};H.Dh=z(O,A,N){P(!O _ H.1){Ex("Type Et","Jc isn\'LG Dk Mse HK Jc");p b;}P(!A||!A.Bb){Ex("Ih Et","No Bb J8 defined");p b;}T(R B Q A){P(A[B].r!=A.Bb.r){Ex("Ih Et","Jn r F9 compatible with the Bb J8");p b;}}X.r=A.Bb.r;P(X.r<M){Ex("Jb Et","Jn Jb must be larger than M");p b;}P(A.Bb[K]!=K){Ex("Et","Frame BQ point Ht F9 K");p b;}X.FP=A.Bb[X.r-L];X.Bf=O;X.Eh=(N==b)?L:N;X.B7=A;X.Fn();X.0=S H.GB();P(X.B7.Da){X.Bf.Bs=X.B7.Da[K]==K?K.01:X.B7.Da[K];}};H.Dh.5={construction:H.Dh,K0:z(){X.KB=a;},Fn:z(){X.DG=-L;X.Bx=K;X.E6=X.B7.Bb[K];X.Fy=L;},BQ:z(){T(R O Q H.Z.CK){P(H.Z.CK[O]==X){p;}}H.Z.CK.Bd(X);},K8:z(){P(X.Bx>X.FP&&X.Fy==X.Eh){p a;}Y{p m;}},o:z(O){P(X.Bx<=X.FP){P(X.Bx==X.E6){X.DG++;X.E6=X.B7.Bb[X.DG+L];T(R H Q X.B7){R G=X.B7[H][X.DG];Cq(H){f"Bb":Gz;f"CI":X.Bf.B5(G[K],G[L]);n;f"B3":X.Bf.Cd(G[K],G[L]);n;f"Da":X.Bf.Bs=G;n;f"KG":R B=G,E=E5(X.Bf.c);X.Bf.c=X.Bf.c.Ke(E,B.Em());n;f"BC":X.Bf.BC=G;n;f"Ij":X.Bf.EN(G);n;}}}Y{P(!X.KB){R F=(X.Bx-X.B7.Bb[X.DG])/(X.E6-X.B7.Bb[X.DG]);T(H Q X.B7){R G=X.B7[H][X.DG],N=X.B7[H][X.DG+L];Cq(H){f"Bb":f"Ij":Gz;f"CI":R D=G[M]?(X.CC[G[M]]?G[M]:M):M,I=e.CN(X.CC[D](F,G[K],N[K])*M)/M,BE=e.CN(X.CC[D](F,G[L],N[L])*M)/M;X.Bf.B5(I,BE);n;f"B3":R D=G[M]?(X.CC[G[M]]?G[M]:M):M,C=X.CC[D](F,G[K],N[K]),A=X.CC[D](F,G[L],N[L]);X.Bf.Cd(C,A);n;f"Da":D=G[L]?(X.CC[G[L]]?G[L]:M):M;X.Bf.Bs=X.CC[D](F,(G[K]?G[K]:G),(N[K]?N[K]:N));n;f"KG":D=G[L]?(X.CC[G[L]]?G[L]:M):M,B=e.CN(X.CC[D](F,(G[K]?G[K]:G),(N[K]?N[K]:N))),E=E5(X.Bf.c);X.Bf.c=X.Bf.c.Ke(E,B.Em());n;f"BC":D=G[L]?(X.CC[G[L]]?G[L]:M):M;X.Bf.BC=X.CC[D](F,(G[K]?G[K]:G),(N[K]?N[K]:N));n;}}}}X.Bx++;}Y{P(X.Eh===K||X.Fy<X.Eh){X.Fy++;X.DG=K;X.Bx=K;X.E6=X.B7.Bb[L];}Y{X.0.9("BI");p a;}}p m;},CC:{L:z(N,A,O){p A;},M:z(N,A,O){p A+N*(O-A);}}};H.FG=z(N,C,O,B,A){X.E3=O?a:m;P(X.E3){H.1.k(X,b,A?A:{});}Y{H.1.k(X,B,A?A:{});}X.C2={};X.BY=[];X.FP=N;X.Eh=C;X.BU=K;X.Eo=S H.2(X.BQ,X);X.F_=m;X.8=m;};t(H.FG,H.1);C.t(H.FG.5,{addObj:z(O,N){P(N _ H.1){X.C2[O]=N;P(X.E3){N.s=X;}}},getObj:z(O){p X.C2[O];},KS:z(B,A,O){P(!X.C2[B]){p;}R N=S H.Dh(X.C2[B],A,X.Eh);P(N){P(O){N.K0();}X.BY.Bd(N);}},BQ:z(){X.BU=L;P(X.E3&&C.KR(X,H.Z.BY)==-L){T(R O Q X.BY){X.BY[O].Fn();}H.Z.BY.Bd(X);}Y{P(!X.E3&&C.KR(X,H.Z.CK)==-L){T(O Q X.BY){X.BY[O].Fn();}H.Z.CK.Bd(X);}}X.0.9("BQ");},Bt:z(){X.BU=K;},o:z(O){P(!X.8){X.8=a;X.0.9("8");}P(X.BU==L){T(R N Q X.BY){X.BY[N].o(O);}T(N Q X.BY){P(!X.BY[N].K8()){p m;}}X.BU=M;p m;}Y{P(X.BU==M){X.0.9("BI");p a;}}},d:z(O){T(R N Q X.C2){X.C2[N].d(O);}}});})(IC,O);(z(A,N){R O=["BF","doubleClick","longPress","FF","swipe","Jj","HS","Hi","JX","Id","keypress","keyup","E1","swipeleft","swiperight"];A.H0=z(N){P(!N){p;}X.ER=[];X.F2={};X.GL={};X.D8={};T(R C Q N){R O="LC"+C;X.F2[O]=N[C].initial?N[C].H8:"";X.GL[O]=N[C].H8?N[C].H8:"JY";X.D8[O]=m;R B=N[C].U;B.$(N[C].BX,S A.2(X.LB,X,[O]),m);}};A.H0.5={EZ:A.H0,D7:z(){T(R O Q X.ER){P(DH(X.ER[O].EW)=="z"){X.ER[O].EW.k(X);}Y{X.ER[O].EW.D7();}}},J3:z(){T(R O Q X.D8){P(!X.D8[O]){p;}}X.D7();},LB:z(O,N){P(X.GL[O]=="JY"||(X.GL[O]=="once"&&X.F2[O]!="JM")){X.D8[O]=a;X.J3();}X.F2[O]=(DH(N)=="FY"?N:"JM");},register:z(N,O){P((N.D7 _ A.2)||DH(N)=="z"){X.ER.Bd({EW:N,FI:O?O:K});}}};})(Dc,O);(z(O,N){N.J4=z(N,O){X.BP=N;X.Bm=O;};O.crePoint2=z(A,O){p S N.J4(A,O);};})(IC,Dc);(z(O,N){N.Iu=z(O){P(!O){O="anglais";}X.D$=O;X.Fc=O;X.B1={};};N.Iu.5={addElem:z(O,N){X.B1[O]=N;P(!N[X.D$]){T(R A Q N){n;}X.B1[O][X.D$]=N[A];F0.Fl(\'HP missing Q "\'+X.D$+\'" T "\'+O+\'" replaced by HP Q "\'+A+\'"\');}},getElem:z(O){P(X.B1[O][X.Fc]){p X.B1[O][X.Fc];}Y{P(X.B1[O][X.D$]){p X.B1[O][X.D$];}Y{F0.Fl(\'no HP T "\'+O+\'" Q languages : \'+X.Fc+" KE "+X.D$);}}},setCurrentLang:z(O){P(DH O=="FY"){X.Fc=O;}},getAllLangFor:z(O){p X.B1[O]||b;}};})(IC,Dc);','J|K|0|1|2|_|$|if|in|var|new|for|src|img|ctx|this|else|root|true|null|font|draw|Math|case|offy|getY|getX|offx|call|width|false|break|logic|return|height|length|parent|extend|lineTo|target|config|objList|_layers|function|evtDeleg|UIObject|Callback|currGame|MseConfig|prototype|container|fillStyle|firstShow|eventNotif|instanceof|addListener|tar|5|scale|left|I|click|top|jqObj|end|lineHeight|list|isNaN|cache|currentEffect|frames|x|start|show|getSrc|links|state|viewport|init|type|animes|15|Array|frame|result|push|h|element|orientation|addObject|px|currIndex|imgContainer|w|y|active|translate|play|loc|Image|globalAlpha|pause|textAlign|save|text|currFr|css|restore|addSource|content|30|size|3|setPos|currTimeline|map|score|drawImage|quadraticCurveTo|endId|inPause|lines|calTrans|fw|fh|10|dim|Card|pos|ImageShower|animations|getHeight|capBox|floor|round|complete|margin|iPhone|timer|lineWidth|splice|visible|textBaseline|PI|zid|coords|strokeStyle|audio|resultx|setSize|20|bordureImg|android|center|div|gamewindow|startId|imgShower|col|ArticleLayer|fillText|link|switch|Layer|configCtxFlex|resultw|lastObj|shower|position|getWidth|4|analyser|measureText|capBody|objs|unhiddableObjectList|children|insideRec|rootEvt|game|indexOf|zoomIcon|evtDistributor|pageWidth|frameFn|sw|index|sh|directShow|indep|currId|typeof|100|aud|8|insertObject|name|000|wiki|distributor|rolled|hide|png|msginlines|shadow|speedLevel|180|comments|normal|resulty|opacity|data|mse|80|msg|slider|listY|KeyFrameAnimation|tsFixed|rgb|a|offsetY|offsetX|fillRect|coorRatio|arguments|beginPath|inObj|gui|delete|drawover|h5|h1|style|oy|interval|FFF|BaseContainer|pageHeight|shadowBlur|iw|angle|requestAnimationFrame|invoke|success|sections|getInstance|defaultLang|phraseIndexs|inited|loading|o|canvas|removeClass|bind|runTimeline|row|gallery|moveTo|styled|mseInteraction|setFrame|vertical|addLayer|getProgress|scripts|configCtx|getSrcPath|volume|close|script|fixed|publishMode|constructor|ix|removeListener|iy|dispatcher|40|12|setTimeout|repeat|60|preload|Comment|GameExpose|toString|Text|startCb|append|ImageCard|dominate|Gudea|Error|scoreleft|getContainer|addLink|mseLog|apply|getContext|timeprog|scroll|setAttribute|statiq|disapear|checkFontSize|nextKf|displayedLines|sens|image|addSection|get|win|seq|callbackList|rotate|curr|move|Animation|scorew1|delay|deleg|resulth|release|Slider|ih|configs|duration|setY|2d|face|ui|delObject|capOx|dest|capOy|string|slice|sy|sx|currentLang|capDx|capDy|listX|addClass|min|0px|class|find|error|fillRoundRect|resetAnimation|sectionsep|BebasNeueRegular|marge|titletextoff|fadein|span|zoomable|currRep|fillback|fadeout|currRp|enScroll|console|bottom|states|getScale|url|pts|_changed|interrupt|createElement|not|block|scrollEvt|getAlpha|EventDelegateSystem|lid|cancelAnimationFrame|closeButton|progressDeleg|fb|Sprite|switching|mobile|waitSrc|expects|waitinglist|bubbleheight|shadowColor|delayCount|scorew2|TextContent|lw|pages|Game|Timeline|setActivate|autoFitCallback|transition|playAfterClose|Root|setX|43|25|Mask|setContainer|document|currTime|orientChange|Button|undefined|START|50|GameShower|arc|scrollT|primalWidth|90|prevOffy|currCard|addComment|drawResult|EventDispatcher|object|fill|continue|drawDefaultUI|borderRadius|lineD|setOrientation|right|video|9|legend|rep|300|parseFloat|landscape|stroke|imgNotif|textCard|Number|tag_single|addUnhiddableObject|Bravo|Speaker|setspeedLevel|href|UI|pauseByRolling|setWindow|clearRect|currline|translation|remove|getObjectIndex|gestureUpdate|tag_multi|shadowOffsetX|shadowOffsetY|ogg|black|dx|dy|endEffect|188|captureCallback|portrait|cr|clickCB|updateListScreen|145|gestureEnd|getMsg|setEvtProxy|maxInv|fillTextWrapped|EventDistributor|barre|unbind|DESACTIVE|15px|txt|is|updateIndexs|35|24|load|18|toFixed|Script|fade|showResult|sprite|Video|FrameAnimation|seplineoff|280|expect|currTimestamp|TextCard|initTimeline|defaultFont|getOriginalPos|window|wikiBar|wrapTextWithWrapIndice|DroidSansRegular|expo|250|255|334|audExtCheck|borderw|getLayer|substr|7|setLayerActivate|strokeRect|ptRotate|sortLayer|gestUpdate|setLink|oneLineMore|borderh|l|srcs|highScore|delUnhiddableObject|autoFitToWindow|setTarget|keydown|reactiveOthers|updatePlayPauseIcon|update|Parameter|offset|spriteSeq|bookFinished|mobileLazyInit|captureHandler|1200|25px|deltaDx|oneLineLess|AAAAAA|horizontal|auto|LanguageRessource|headerH|rolling|loadInfo|setCursor|setCenteredViewport|LOSE|wrapText|activateZoom|cid1|500|WikiLayer|WIN|DEFAULT|strokeRoundRect|postGame|speedCtr|delLayer|initTextEffect|urlClicked|preloadProc|run|LOAD|proxy|canvasoy|srcPath|canvasox|mmvc|desactiveOthers|fbapi|triggered|minInv|zids|aud_wiki_open|inner_comment|setScore|attachTo|maxScale|aud_gameover|18px|game_restart|gestureSingle|everytime|setExpose|prop|Length|Element|nowindow|cid|launchcb|loadandstart|autoplay|passBn|gestureStart|endGame|legendheight|hasClass|KeyFrame|600|150|h4|h2|168|ctrUI|bookroot|max|imgUrl|showerObj|updateCapZone|cb|110|20px|startEffect|checkConditions|Point2|120|setSlider|closeBn|stamp|vide|singletonInit|color|cbScroll|notransition|abs|button|or|attr|fontSize|initCapZone|relocate|insertBefore|nb|obj|preventDefault|_$0|count|lh|aud_inter_close|inArray|addAnimation|animate|33|preloadPage|fbBn|_blank|cbGest|finishCapture|cornerRatio|aud_wiki_close|originPos|capturecb|replace|minScale|clicked|after|82|70|getTagBox|fixCapZone|getInterval|launchGame|destroy|65|className|45|getCanvasX|getCanvasY|html|cursor|open|delegProgress|480|270|setNoTransition|fbBar|getZindex|launch|title|246|lineShowed|default|isEnd|mp3|setDominate|notify|isFullScreen|conditionChanged|c|d|n|r|t|6'.split('|'),704,711,{},{}));
/*!
 * Mse Graphic Effects Library (version mini)
 * Encre Nomade
 *
 * Author: LING Huabin - lphuabin@gmail.com
 * Copyright, Encre Nomade
 *
 * Date de creation: Fevrier 2012
 */

// effet : affectation des effets sur le texte ou l'image
(function( mse ){

__KEY_S	= 83;
__KEY_D	= 68;
__KEY_O = 79;
__KEY_N = 78;
__KEY_B = 66;
__KEY_V = 86;
__KEY_C = 67;
__E = 0.000001;

Number.prototype.toHexString = function(){
	return this.toString(16);
}

/*******************************************************************/
mse.EffectScreen = function (){
	this.cbProcess = new mse.Callback(this.process,this);
};
mse.EffectScreen.prototype = {
	constructor	: mse.EffectScreen,
	config : {} ,
	startEffect : function(){
		mse.root.evtDistributor.addListener('drawover', this.cbProcess);
	},
	process : function(ctx){},
	endEffect : function(){
		mse.root.evtDistributor.removeListener('drawover', this.cbProcess);
	},
	toString : function(){return "[object mse.EffectScreen]"}
};
/*******************************************************************/
mse.ESDropdownByCss = function (config){
	mse.EffectScreen.call(this);
	
	this.config = {
		target : 'book',
		duration : 500,
		g : 9.8
	};
	
	if(config)$.extend(this.config,config);	
	
	this.count = 0;
	var canvas = document.getElementById(this.config.target);
	this.defaultLeft = checkFontSize(canvas.style.left);
	this.defaultTop = checkFontSize(canvas.style.top);

    this.markFalling = true;
           
	this.buffH = 0;
    this.g = this.config.g;
    this.h = 0;
    this.Vo = 0;
    this.Vt = 0;
    this.t = 0;	
};
extend(mse.ESDropdownByCss,mse.EffectScreen);
$.extend(mse.ESDropdownByCss.prototype, {
	label : "dropdownByCss",
	process : function(ctx){
        if(this.markFalling)this.falling();
        else this.rising();
        
		mse.root.setPos(this.defaultLeft,this.h-ctx.canvas.height);
		
        this.count++; this.t++;
        if(this.count > this.config.duration) this.endEffect();
	},
    falling : function(){
        this.Vt = this.Vo + this.g*this.t;
        this.h = this.buffH + 0.5*this.g*this.t*this.t;
        if(this.h > 600){
            this.h = 600;
            this.t = 0;
            this.Vo = this.Vt/1.7;
            this.markFalling = false;
        }
    },
    rising : function(){
        this.Vt = this.Vo + (-this.g)*this.t;
        this.h = 600 - (this.Vt*this.Vt - this.Vo*this.Vo)/(2*(-this.g));
        if(this.Vt < 0){
            this.buffH = this.h;
            this.t = 0;
            this.Vo = 0;
            this.markFalling = true;           
        }
    },
	toString : function(){
		return this.label;
	}
});
	
/*******************************************************************/
mse.EffectText = function (subject,config,multi) {
	this.config = config;
	this.subject = subject;	
	this.multi = multi;
};
mse.EffectText.prototype = {
	constructor	: mse.EffectText,
	config : {} ,
	draw : function(ctx){},
	logic : function(delta){},
	toString : function(){return "[object mse.EffectText]"}
};
/*******************************************************************/
mse.ETFade = function(subject,config,multi) {
	mse.EffectText.call(this,subject,config,multi);
	this.count = 0;
	
	this.config = {
		duration : 30,
		start : 0,
		end : 1
	};
	
	if(config)$.extend(this.config,config);
};
extend(mse.ETFade,mse.EffectText);
$.extend(mse.ETFade.prototype, {
	label : "fade",
	logic : function(delta){
		if(this.count <= this.config.duration){
			this.subject.globalAlpha = this.config.start + (this.count/this.config.duration)*(this.config.end-this.config.start);
			this.count++;
			if(this.multi) return true;
		}
		else{
			if(this.multi) return false;
			this.subject.endEffect();
		}
	},
	draw : function (ctx){
		ctx.fillText(this.subject.text,this.subject.getX(),this.subject.getY());
	},
	toString : function(){
		return this.label;
	}
});

/*******************************************************************/
mse.ETTypewriter = function(subject,config,multi) { //Effect Type 4
	mse.EffectText.call(this,subject,config,multi);
	
	this.indice = 0;
	this.phraseAffichage = "";
	this.controlSpeed = 0;
	this.alphabetsDePhrase = this.subject.text.split('');
	
	this.config = {
		speed : 1
	};
	
	if(config)$.extend(this.config,config);
	this.config.speed = this.config.speed - 1;
};
extend(mse.ETTypewriter,mse.EffectText);
$.extend(mse.ETTypewriter.prototype, {
	label : "typewriter",
	logic : function(delta){
		if(this.indice != this.alphabetsDePhrase.length){
			if(this.config.speed == this.controlSpeed){
				this.phraseAffichage += this.alphabetsDePhrase[this.indice];
				this.indice++;
				this.controlSpeed = 0;
			}
			else this.controlSpeed++;
			if(this.multi) return true;
		}
		else{
			//this.subject.fillStyle = "#78A8FF";
			//this.subject.strokeStyle = "blue";
			if(this.multi) return false;
			this.subject.endEffect();
		}		
	},
	draw : function (ctx){
		ctx.fillText(this.phraseAffichage,this.subject.getX(),this.subject.getY());
	},
	toString : function(){
		return this.label;
	}	
});
/*******************************************************************/
mse.ETTwisttext = function(subject,config,multi) { 
	mse.EffectText.call(this,subject,config,multi);
	this.cbProcess = new mse.Callback(this.process,this);
	
	this.count = 0;
	this.alphabetsDePhrase = this.subject.text.split('');
	this.longueur = this.alphabetsDePhrase.length;
	this.fontsizeArray = new Array();
	
	this.config = {
		duration : 30,
		variation : 10,
		ratio : 0.5,
		height : 10
	};
	
	if(config)$.extend(this.config,config);
};
extend(mse.ETTwisttext,mse.EffectText);
$.extend(mse.ETTwisttext.prototype, {
	label : "twisttext",
	logic : function(delta){
		if(this.count <= this.config.duration){
			for(var i = 0; i < this.longueur; i++){
				var size = 0;
				var valueCos = (-Math.cos((i/this.longueur)*360*(Math.PI/180)));
				if(this.count <= this.config.duration*this.config.ratio){
					size = this.config.variation*(this.count/(this.config.duration*this.config.ratio))*valueCos+18+this.config.height*(this.count/(this.config.duration*this.config.ratio));
				}
				else{
					size = this.config.variation*((this.config.duration-this.count)/(this.config.duration*(1-this.config.ratio)))*valueCos+18+this.config.height*((this.config.duration-this.count)/(this.config.duration*(1-this.config.ratio)));
				}
				size = Math.round(size);
				this.fontsizeArray[i] = size.toString() + "px " + mse.configs.font;
			}
			
			this.count++;
			if(this.multi)return true;
		}
		else{
			if(this.multi)return false;
			this.subject.endEffect();
		}
	},
	draw : function (ctx){
		var stringWidth = 0, stringWidthArray = [0];
		var initialStringWidth = ctx.measureText(this.subject.text).width;;
		var offsetX = 0;
		for(var i = 0; i < this.longueur; i++){
			ctx.font = this.fontsizeArray[i];
			//ctx.fillText(this.alphabetsDePhrase[i],this.subject.getX()+stringWidth,this.subject.getY());
			stringWidth += ctx.measureText(this.alphabetsDePhrase[i]).width;
			stringWidthArray[i+1] = stringWidth;
		}
		offsetX = -(stringWidth - initialStringWidth)/2;
		for(var i = 0; i < this.longueur; i++){
			ctx.font = this.fontsizeArray[i];
			ctx.fillText(this.alphabetsDePhrase[i],this.subject.getX()+stringWidthArray[i]+offsetX,this.subject.getY());
		}
		
	},
	toString : function(){
		return this.label;
	}
});
/*******************************************************************/
mse.ETTwistMultiText = function(subject,config,multi) {
	mse.EffectText.call(this,subject,config,multi);
	
	if(!mse.ETTwistMultiText.prototype.initflag){
		mse.root.evtDistributor.addListener('drawover', new mse.Callback(mse.ETTwistMultiText.prototype.process, null));
		mse.ETTwistMultiText.prototype.initflag = true;
	}

	this.alphabetsDePhrase = this.subject.text.split('');
	this.longueur = this.alphabetsDePhrase.length;
	this.fontsizeArray = new Array();
	
	this.config = {
		periode : 30,
		variation : 10,
		ratio : 0.5,
		height : 10
	};
	
	if(config)$.extend(this.config,config);
};
extend(mse.ETTwistMultiText,mse.EffectText);
$.extend(mse.ETTwistMultiText.prototype, {
	label : "twistmultitext",
	count : 0,
	initflag : false,
	process : function(){
		mse.ETTwistMultiText.prototype.count++;
		if(mse.ETTwistMultiText.prototype.count > 60000) mse.ETTwistMultiText.prototype.count=0;
	},
	endEffect : function(){
		this.subject.endEffect();
	},
	logic : function(delta){

	},
	draw : function (ctx){
		var c = mse.ETTwistMultiText.prototype.count % this.config.periode;
		var fontWidth = 0;
		if(c <= this.config.periode){
			for(var i = 0; i < this.longueur; i++){
				var size = 0;
				var valueCos = (-Math.cos((fontWidth/this.subject.width)*360*(Math.PI/180)));
				if(c <= this.config.periode*this.config.ratio){
					size = this.config.variation*(c/(this.config.periode*this.config.ratio))*valueCos+this.config.height;
				}
				else{
					size = this.config.variation*((this.config.periode-c)/(this.config.periode*(1-this.config.ratio)))*valueCos+this.config.height;
				}
				fontWidth += ctx.measureText(this.alphabetsDePhrase[i]).width;
				size = Math.round(size);
				this.fontsizeArray[i] = size.toString() + "px " + mse.configs.font;
			}
			if(this.multi)return true;
		}
		
		var stringWidth = 0;
		var offsetX = 0;
		for(var i = 0; i < this.longueur; i++){
			ctx.font = this.fontsizeArray[i];
			ctx.fillText(this.alphabetsDePhrase[i],this.subject.getX()+stringWidth,this.subject.getY());
			stringWidth += ctx.measureText(this.alphabetsDePhrase[i]).width;
		}
	},
	toString : function(){
		return this.label;
	}
});
/*******************************************************************/
mse.MultiEffectContainer = function (subject,dictObjEffects){
	mse.EffectText.call(this,subject);
	this.dictObjEffects = dictObjEffects;
	this.arrayEffectName = Object.keys(this.dictObjEffects);
	
	this.filtered = this.filterEffect(this.arrayEffectName);	
};
extend(mse.MultiEffectContainer,mse.EffectText);
$.extend(mse.MultiEffectContainer.prototype, {
	label : "multieffect",
	classification : {
		"fadein" : "param",
		"colored" : "param",
		"zoomtext" : "zoom",
		"flytext" : "trajet",
		"painttext" : "imageData",
		"typewriter" : "content",
		"twisttext" : "content",
		"twistmultitext" : "content"
	},
	conflict : {
		"param" : [],
		"zoom" : ["imageData"],
		"trajet" : ["imageData","content","trajet"],
		"imageData" : ["trajet","zoom","content","imageData"],
		"content" : ["imageData","trajet","content"]		
	},
	filterEffect : function (listEffect){
		var principalDraw = null;
		var conflictArray = new Array();
		var filteredEffectArray = new Array();
		
		for(var i=0; i<listEffect.length; i++){
			var typeEffect = mse.MultiEffectContainer.prototype.classification[listEffect[i]];
			var flagDelete = false;
			
			for(var checkConflict in conflictArray){
				if(conflictArray[checkConflict] == typeEffect){
					delete listEffect[i];
					flagDelete = true;
					break;
				}
			}
				
			if(!flagDelete){
				filteredEffectArray.push(listEffect[i]);
				conflictArray = conflictArray.concat(mse.MultiEffectContainer.prototype.conflict[typeEffect]);
				//Determine the type of draw
				switch(typeEffect){
					case "trajet" :
					case "imageData" :
					case "content" : principalDraw = listEffect[i];break;
					default : if(null == principalDraw)principalDraw = listEffect[i];break;
				}
			}
		}
		return {"filteredEffectArray":filteredEffectArray,"principalDraw": principalDraw};		
	},
	logic : function(delta){
		var endMultiEffect = true;
		for(var effect in this.filtered["filteredEffectArray"]){
			if(this.dictObjEffects[this.filtered["filteredEffectArray"][effect]].logic(delta))endMultiEffect = false;
		}
		if(endMultiEffect)this.subject.endEffect();
	},
	draw : function (ctx){
		this.dictObjEffects[this.filtered["principalDraw"]].draw(ctx);
	},
	toString : function(){
		return this.label;
	}	
});
/*******************************************************************/
mse.initTextEffect = function (effectConf,subject) {
	if(Object.keys(effectConf).length < 2){
		for(var nEffect in effectConf){
			switch(nEffect){
				case "fade" : return (new mse.ETFade(subject,effectConf[nEffect],false));
				case "colored": return (new mse.ETColored(subject,effectConf[nEffect],false));
				case "typewriter": return (new mse.ETTypewriter(subject,effectConf[nEffect],false));
				case "painttext": return (new mse.ETPainttext(subject,effectConf[nEffect],false));
				case "flytext": return (new mse.ETFlytext(subject,effectConf[nEffect],false));
				case "zoomtext" : return (new mse.ETZoomtext(subject,effectConf[nEffect],false));
				case "twisttext" : return (new mse.ETTwisttext(subject,effectConf[nEffect],false));
				case "twistmultitext" : return (new mse.ETTwistMultiText(subject,effectConf[nEffect],false));
				default : return null;
			}
		}
		return null;
	}
	else{
		var dictObjEffects = {};
		for(var nEffect in effectConf){
			switch(nEffect){
				case "fade" : dictObjEffects[nEffect] = new mse.ETFade(subject,effectConf[nEffect],true);break;
				case "colored": dictObjEffects[nEffect] = new mse.ETColored(subject,effectConf[nEffect],true);break;
				case "typewriter": dictObjEffects[nEffect] = new mse.ETTypewriter(subject,effectConf[nEffect],true);break;
				case "painttext": dictObjEffects[nEffect] = new mse.ETPainttext(subject,effectConf[nEffect],true);break;
				case "flytext": dictObjEffects[nEffect] = new mse.ETFlytext(subject,effectConf[nEffect],true);break;
				case "zoomtext": dictObjEffects[nEffect] = new mse.ETZoomtext(subject,effectConf[nEffect],true);break;
				case "twisttext": dictObjEffects[nEffect] = new mse.ETTwisttext(subject,effectConf[nEffect],true);break;
				case "twistmultitext": dictObjEffects[nEffect] = new mse.ETTwistMultiText(subject,effectConf[nEffect],true);break;
				default: break;
			}
		}
		return new mse.MultiEffectContainer(subject,dictObjEffects);
	}
};
/*******************************************************************/
mse.EffectImage = function (subject,config,multi) {
    if(!this.config) this.config = {};
	if(config) $.extend(this.config, config);
	this.subject = subject;
	this.multi = multi===true ? true : false;
	this.count = 0;
};
mse.EffectImage.prototype = {
	constructor	: mse.EffectImage,
	init : function() {},
	end : function() {},
	logic : function(delta){
		if(this.count <= this.config.duration){							
			this.count++;
			if(this.multi) return true;
		}
		else{
		    this.end();
			if(this.multi) return false;
			this.subject.endEffect();
		}
	},
	toString : function(){return "[object mse.EffectImage]"}
};
/*******************************************************************/
mse.EIColorFilter = function(subject, config, multi) {    
    this.config = {
    	duration : Number.POSITIVE_INFINITY,
    	rMulti: 1,
    	gMulti: 1,
    	bMulti: 1,
    	alpha: 1
    };
    if(config.rMulti > 1 || config.rMulti < 0) delete config.rMulti;
    if(config.gMulti > 1 || config.gMulti < 0) delete config.gMulti;
    if(config.bMulti > 1 || config.bMulti < 0) delete config.bMulti;
    if(config.alpha > 1 || config.alpha < 0) delete config.alpha;
    mse.EffectImage.call(this, subject, config, multi);
    
    this.canvas = document.createElement("canvas");
}
extend(mse.EIColorFilter, mse.EffectImage);
$.extend(mse.EIColorFilter.prototype, {
    init: function(config, subject) {
        if(config) $.extend(this.config, config);
        if(subject) this.subject = subject;
        this.count = 0;
        this.update();
    },
    update : function (){
        var cache = this.subject.cache;
        if(!cache) return;
        var ctx = this.canvas.getContext("2d");
        if(this.canvas.width != cache.width) {
            this.canvas.width = cache.width;
            this.canvas.style.width = cache.width;
        }
        if(this.canvas.height != cache.height) {
            this.canvas.height = cache.height;
            this.canvas.style.height = cache.height;
        }
        
        ctx.save();
        ctx.clearRect(0, 0, cache.width, cache.height);
    	ctx.drawImage(cache, 0,0, cache.width, cache.height);
    	ctx.globalCompositeOperation = "source-atop";
    	
    	var r = (1 - this.config.rMulti) * 255;
    	var g = (1 - this.config.gMulti) * 255;
    	var b = (1 - this.config.bMulti) * 255;
    	ctx.fillStyle = "rgba("+r.toFixed(0)+","+g.toFixed(0)+","+b.toFixed(0)+","+this.config.alpha+")";
    	ctx.fillRect(0, 0, cache.width, cache.height);
    	ctx.restore();
    },
    draw: function(ctx, cache, ox, oy, width, height) {
        ctx.drawImage(this.canvas, ox, oy, width, height);
    }
});
/*******************************************************************/
mse.MultiImageEffectContainer = function (subject,dictObjEffects){
	mse.EffectImage.call(this,subject);
	this.dictObjEffects = dictObjEffects;
	this.arrayEffectName = Object.keys(this.dictObjEffects);
	
	this.filtered = this.filterEffect(this.arrayEffectName);	
};
extend(mse.MultiImageEffectContainer,mse.EffectImage);
$.extend(mse.MultiImageEffectContainer.prototype, {
	label : "multieffectImage",
	conflict : {
		"param" : [],
		"weather" : ["weather","pixel","candle"],
		"pixel" : ["pixel","weather","candle"],
		"candle" : ["pixel","weather"],
		"filter": []
	},
	classification : {
		"fade" : "param",
		"snow" : "weather",
		"rain" : "weather",
		"fog" : "weather",
		"erase" : "pixel",
		"vibration" : "weather",
		"colorswitch" : "pixel",
		"blur" : "pixel",
		"sunrise" : "pixel",
		"lightcandle" : "candle",
		"colorfilter": "filter"
	},
	filterEffect : function (listEffect){
		var principalDraw = null;
		var conflictArray = new Array();
		var filteredEffectArray = new Array();
		
		for(var i=0; i<listEffect.length; i++){
			var typeEffect = mse.MultiImageEffectContainer.prototype.classification[listEffect[i]];
			var flagDelete = false;
			
			for(var checkConflict in conflictArray){
				if(conflictArray[checkConflict] == typeEffect){
					delete listEffect[i];
					flagDelete = true;
					break;
				}
			}
				
			if(!flagDelete){
				filteredEffectArray.push(listEffect[i]);
				conflictArray = conflictArray.concat(mse.MultiImageEffectContainer.prototype.conflict[typeEffect]);
				//Determine the type of draw
				switch(typeEffect){
				    case "filter": break;
					case "pixel" :
					case "weather" : principalDraw = listEffect[i];break;
				}
			}
		}
		return {"filteredEffectArray":filteredEffectArray,"principalDraw": principalDraw};		
	},
	init : function() {
	    for(var effect in this.filtered["filteredEffectArray"])
	        this.dictObjEffects[this.filtered["filteredEffectArray"][effect]].init();
	},
	logic : function(delta){
		var endMultiEffect = true;
		for(var effect in this.filtered["filteredEffectArray"]){
			if(this.dictObjEffects[this.filtered["filteredEffectArray"][effect]].logic(delta))
			    endMultiEffect = false;
		}
		if(endMultiEffect) this.subject.endEffect();
	},
	draw : function (ctx,x,y){
		if(this.filtered["principalDraw"]) 
		    this.dictObjEffects[this.filtered["principalDraw"]].draw(ctx,x,y);
	},
	toString : function(){
		return this.label;
	}	
});
/*******************************************************************/
mse.initImageEffect = function (effectConf,subject) {
	if(Object.keys(effectConf).length < 2){
		for(var nEffect in effectConf){
			switch(nEffect){
				case "fade" : return (new mse.EIFade(subject,effectConf[nEffect],false));
				case "snow" : return (new mse.EISnow(subject,effectConf[nEffect],false));
				case "rain" : return (new mse.EIRain(subject,effectConf[nEffect],false));
				case "fog" : return (new mse.EIFog(subject,effectConf[nEffect],false));
				case "colorswitch" : return (new mse.EIColorSwitch(subject,effectConf[nEffect],false));
				case "blur" : return (new mse.EIBlur(subject,effectConf[nEffect],false));
				case "lightcandle" : return (new mse.EILightcandle(subject,effectConf[nEffect],false));
				case "erase" : return (new mse.EIErase(subject,effectConf[nEffect],false));
				case "vibration" : return (new mse.EIVibration(subject,effectConf[nEffect],false));
				case "sunrise" : return (new mse.EISunrise(subject,effectConf[nEffect],false));
				case "colorfilter" : return (new mse.EIColorFilter(subject,effectConf[nEffect],false));
				default : return null;				
			}
		}
		return null;
	}
	else{
		var dictObjEffects = {};
		for(var nEffect in effectConf){
			switch(nEffect){
				case "fade" : dictObjEffects[nEffect] = new mse.EIFade(subject,effectConf[nEffect],true);break;
				case "snow": dictObjEffects[nEffect] = new mse.EISnow(subject,effectConf[nEffect],true);break;
				case "rain": dictObjEffects[nEffect] = new mse.EIRain(subject,effectConf[nEffect],true);break;
				case "fog": dictObjEffects[nEffect] = new mse.EIFog(subject,effectConf[nEffect],true);break;
				case "colorswitch": dictObjEffects[nEffect] = new mse.EIColorSwitch(subject,effectConf[nEffect],true);break;
				case "blur": dictObjEffects[nEffect] = new mse.EIBlur(subject,effectConf[nEffect],true);break;
				case "lightcandle": dictObjEffects[nEffect] = new mse.EILightcandle(subject,effectConf[nEffect],true);break;
				case "erase": dictObjEffects[nEffect] = new mse.EIErase(subject,effectConf[nEffect],true);break;
				case "vibration": dictObjEffects[nEffect] = new mse.EIVibration(subject,effectConf[nEffect],true);break;
				case "sunrise": dictObjEffects[nEffect] = new mse.EISunrise(subject,effectConf[nEffect],true);break;
				case "colorfilter" : dictObjEffects[nEffect] = new mse.EIColorFilter(subject,effectConf[nEffect],false);break;
				default: break;
			}
		}
		return new mse.MultiImageEffectContainer(subject,dictObjEffects);
	}
};
/*******************************************************************/
mse.distance = function (x1,y1,x2,y2) {
		var X = Math.abs(x1 - x2);
		var Y = Math.abs(y1 - y2);	
		return Math.sqrt(X*X + Y*Y);
};
/*******************************************************************/
mse.sin = function (t,A,w,c) {
		if(undefined == A)A = 1;
		if(undefined == w)w = 1;
		if(undefined == c)c = 0;
		return (A*Math.sin(w*t*(Math.PI/180))+c);
};
/*******************************************************************/
mse.cos = function (t,A,w,c) {
		if(undefined == A)A = 1;
		if(undefined == w)w = 1;
		if(undefined == c)c = 0;
		return (A*Math.cos(w*t*(Math.PI/180))+c);
};
/*******************************************************************/
mse.min3num = function(a,b,c){
	var temp = a;
	if(a>b) temp = b;
	if(temp>c) return c;
	else return temp;
}
/*******************************************************************/
mse.max3num = function(a,b,c){
	var temp = a;
	if(a<b) temp = b;
	if(temp<c) return c;
	else return temp;
}
/*******************************************************************/
mse.rgb_hsl = function(R,G,B){
	var min, max;
	var convR = R/255.0; var convG = G/255.0; var convB = B/255.0;
	var H,S,L;
	
	min = mse.min3num(convR,convG,convB);
	max = mse.max3num(convR,convG,convB);
	
	if(Math.abs(max-min) <= __E)H = 0.0;
	else if(Math.abs(max-convR) <= __E){
		H = 60.0*((convG-convB)/(max-min))+360.0;
		if(H > 360) H -= 360.0;
	}
	else if(Math.abs(max-convG) <= __E){
		H = 60.0*((convB-convR)/(max-min))+120.0;
	}
	else if(Math.abs(max-convB) <= __E){
		H = 60.0*((convR-convG)/(max-min))+240.0;	
	}
	else return false;
	
	if(Math.abs(max) <= __E) S = 0;
	else S = (max-min)/max;
	
	L = max;
	
	S = S*255.0;
	L = L*255.0;

	return [H,S,L];
}
/*******************************************************************/
mse.hsl_rgb = function(H,S,L){
	var f,p,q,u;
	var Hi;
	var R,G,B;
	
	var convS = S/255.0;
	var convL = L/255.0;
	
	Hi = (Math.floor(H/60.0))%6;
	f = (H/60.0) - Math.floor(H/60.0);
	
	p = convL*(1.0-convS);
	q = convL*(1.0-f*convS);
	u = convL*(1.0-(1.0-f)*convS);
	
	switch(Hi){
		case 0 : R=convL; G=u; B=p; break;
		case 1 : R=q; G=convL; B=p; break;
		case 2 : R=p; G=convL; B=u; break;
		case 3 : R=p; G=q; B=convL; break;
		case 4 : R=u; G=p; B=convL; break;
		case 5 : R=convL; G=p; B=q; break;
		default : return false;
	}
	
	R = R*255.0;
	G = G*255.0;
	B = B*255.0;
	
	return [R,G,B];
}
/*******************************************************************/
var FPS = 0;
var logger={ frameCount : 0 };

mse.showFPS = function(game){	
	if (game==null){
		return;
	}
	if (game.logger==null){
		game.logger={ frameCount : 0 };
	}
	var div=document.getElementById("fpsBar");
	if (div==null){
		div=document.createElement("div");
		document.body.appendChild(div);
		var style={
			backgroundColor:"rgba(0,0,0,0.5)",
			position:"absolute",
			left:"300px",
			top:"1px",
			color:"#fff",
			width:"100px",
			height:"30px",
			border:"solid 1px #ccc",
			fontSize:"22px",
			zIndex : 99999
		}
		for (var key in style){
			div.style[key]=style[key];
		}
	}
	function _core(){			
		div.innerHTML = "FPS:" + game.logger.frameCount;
		game.logger.frameCount = 0;	
	}
	setInterval(_core ,1000-1);
}
})(mse);;
eval(function(B,D,A,G,E,F){function C(A){return A<62?String.fromCharCode(A+=A<26?65:A<52?71:-4):A<63?'_':A<64?'$':C(A>>6)+C(A&63)}while(A>0)E[C(G--)]=D[--A];return B.replace(/[\w\$]+/g,function(A){return E[A]==F[A]?A:E[A]})}('EQ.Y={};(7(U,A,T){Y.setGame=7(U){Y.currGame=U;};Y.getZoneVisible=7(A,T,H,F,U,E){V(H>=Q){Z G=Q;}g{G=-H;}V(F>=Q){Z C=Q;}g{C=-F;}V(H+A>U){Z D=(H>=Q?U-H:U);}g{D=(H>=Q?A:A-G);}V(F+T>E){Z B=(F>=Q?E-F:E);}g{B=(F>=Q?T:T-C);}0{CE:G,CC:C,CD:D,CG:B};};Y.BI=7(B,U,C){V(B $ A.Game){f.BR=B;}g{0;}f.4=[];f.BH=i;f.W=Q;f.X=Q;f.q=p(U)?f.BR.q:U;f.1=p(C)?f.BR.1:C;V(CX.B7){Z T="./UI/";V(config.publishMode=="release"){T="http://Dw.com/assets/Bg/Dw/story/";}A.e.Cy("ED",T+"D3/padbase.Df","Bg",k);A.e.Cy("Du",T+"D3/padhandler.Df","Bg",k);}};Y.BI._={Cb:Y.BI,Dq:7(U){V(U $ Y.BA){f.4.DN(U);f.Db();}},D5:7(U){V(U $ Y.BA){f.BH=U;}},delLayer:7(U){V(U==i){0;}b(Z T BV f._layers){V(f.4[T].Bx==U){f.4.splice(T,R);}}},getLayer:7(U){V(U==i){0;}b(Z T BV f.4){V(f.4[T].Bx==U){0 f.4[T];}}},Db:7(){f.4.sort(7(T,U){V(T.B0<U.B0){0-R;}g{V(T.B0>U.B0){0 R;}g{0 Q;}}});},u:7(U){b(Z T BV f.4){f.4[T].u(U);}V(f.BH){f.BH.u(U);}},EM:7(T,H,E,U,D){T.DG();T.DF(H,E);V(H>=Q){Z G=Q;}g{G=-H;}V(E>=Q){Z B=Q;}g{B=-E;}V(H+f.q>U){Z C=(H>=Q?U-H:U);}g{C=(H>=Q?f.q:f.q-G);}V(E+f.1>D){Z A=(E>=Q?D-E:D);}g{A=(E>=Q?f.1:f.1-B);}b(Z F BV f.4){f.4[F].n(T,G,B,C,A);}T.DM();V(f.BH){f.BH.n(T);}},setPosition:7(T,U){f.W=T;f.X=U;},Bl:7(){0 f.W;},Bk:7(){0 f.X;},Bc:7(U,T){f.W+=U;f.X+=T;},setCollision:7(U){}};Y.DA=7(F,U,G,C,E,B){Y.BI.o(f,F,U,G);f.EE=E;f.CL={};V(B $ A.9){f.CW=B;}g{f.CW=i;}Z D=f;T.ajax({url:C,dataType:"xml",success:7(U){D.D1(U);}});};5(Y.DA,Y.BI);T.5(Y.DA._,{D1:7(H){Z BC=T(H).find("Bp"),B=BD(BC.j("q")),J=BD(BC.j("1")),Ct=BD(BC.j("DR")),C=BD(BC.j("EP"));V(p(J)||p(B)||p(Ct)||p(C)){0;}Z I=BC.CH("Br"),Da=f.EE,DZ=f.CL;I.each(7(){Z E=T(f).j("Bx"),C=BD(T(f).j("firstgid")),H=BD(T(f).j("DR")),U=BD(T(f).j("EP")),G=T(f).CH("image"),F=Da+G.j("source"),B=BD(G.j("q")),D=BD(G.j("1"));DZ[E]={e:F,De:B,Dc:D,DW:C,w:H,v:U};A.e.Cy(E,F,"Bg",k);});Z D=BC.CH("layer");b(Z K=Q;K<D.BT;K++){Z L=T(D.get(K)),DX=L.j("Bx"),G=L.CH("Cp");V(G.BT==Q){B2;}Z F=G.text(),DY=G.j("encoding"),U=G.j("compression");V(!F){B2;}CS(DY){l"base64":BC=Base64.decodeBase64AsArray(F,BY);z;DL:B2;}CS(U){l"zlib":B2;l"gzip":B2;l"":z;}Z E=c Y.Bq(DX,f,K,B,J,Ct,C,BC);}V(f.CW){f.CW.Dx();}},BP:7(){f.Br=c Y.B6(f);b(Z T BV f.CL){Z U=f.CL[T];f.Br.EB(T,U.De,U.Dc,U.DW,U.w,U.v);}b(T BV f.4){V(6 f.4[T].BP=="7"){f.4[T].BP();}}}});Y.B6=7(U){V(U $ Y.BI){f.BK=U;}f.B8=[];};Y.B6._={Cb:Y.B6,EV:7(U){V(f.B8[U]){0 f.B8[U];}g{0 i;}},EB:7(H,G,C,B,L,U){V((6 H!="string")||A.e.CK(H)==i||p(G)||p(C)||p(B)||p(L)||p(U)){0;}Z F=h.t(C/U),T=h.t(G/L),K=B;b(Z I=Q;I<F;++I){b(Z D=Q;D<T;++D){Z E=Cs.C$("C2"),J=E.DJ("Ci");E.q=L;E.Bb.q=L;E.1=U;E.Bb.1=U;J.BX(A.e.CK(H),D*L,I*U,L,U,Q,Q,L,U);f.B8[K]=E;K++;}}}};Y.BA=7(T,A,U){f.Bx=T;f.2=(A $ Y.BI)?A:i;f.B0=p(U)?Q:U;f.W=Q;f.X=Q;V(f.2){f.2.Dq(f);f.q=f.2.q;f.1=f.2.1;}g{f.q=Q;f.1=Q;}};Y.BA._={Bl:7(){0 Q;},Bk:7(){0 Q;},C6:7(){0 f.2;},u:7(){},n:7(U){}};Y.Bq=7(B,D,A,T,E,F,U,C){Y.BA.o(f,B,D,A);V(!C){0;}f.d=p(T)?Q:T;f.Bd=p(E)?Q:E;f.w=p(F)?Q:F;f.v=p(U)?Q:U;f.Bp=C;};5(Y.Bq,Y.BA);T.5(Y.Bq._,{BP:7(){f.r=Cs.C$("C2");Z B=f.r.DJ("Ci");f.r.q=f.d*f.w;f.r.Bb.q=f.d*f.w;f.r.1=f.Bd*f.v;f.r.Bb.1=f.Bd*f.v;b(Z T=Q;T<f.Bd;++T){b(Z U=Q;U<f.d;++U){Z A=f.Bp[T*f.d+U];f.Cu(B,A,h.t(U*f.w),h.t(T*f.v));}}},Cu:7(B,A,T,U){V(f.2.Br){Z C=f.2.Br.EV(A);V(C){B.BX(C,T,U);}}},n:7(E,J,G,I,A){V(f.r){E.BX(f.r,J,G,I,A,J,G,I,A);}g{V(arguments.BT<EZ){Z C=Q,H=Q,B=f.d,U=f.Bd;}g{C=h.t(J/f.w),H=h.t(G/f.v),B=h.DV((J+I)/f.w),U=h.DV((G+A)/f.v);}b(Z D=H;D<U;++D){b(Z T=C;T<B;++T){Z F=f.Bp[D*f.d+T];f.Cu(E,F,T*f.w,D*f.v);}}}}});Y.Ca=7(A,B,T,U){Y.BA.o(f,A,B,T);f.m=[];f.Cd=s;f.CM=U===k?k:s;};5(Y.Ca,Y.BA);T.5(Y.Ca._,{BP:7(){V(!f.r){f.r=Cs.C$("C2");}f.Do=f.r.DJ("Ci");f.r.q=f.2.q;f.r.Bb.q=f.2.q;f.r.1=f.2.1;f.r.Bb.1=f.2.1;b(Z U=Q;U<f.m.BT;++U){f.m[U].n(f.Do);}},Cx:7(U){V(U $ Y.BG){f.m.DN(U);U.2=f;}g{V(U $ A.D7){f.m.DN(U);U.2=i;}g{0;}}V(f.Cd&&f.CM){f.BP();}},u:7(U){b(Z T=Q;T<f.m.BT;++T){V(f.m[T]$ Y.BG){f.m[T].BE.u(U);}g{f.m[T].u(U);}}},n:7(U,D,A,B,T){V(!f.Cd){f.Cd=k;V(f.CM){f.BP();}}V(!f.CM||p(D)||p(A)||p(B)||p(T)){b(Z C=Q;C<f.m.BT;++C){f.m[C].n(U);}}g{U.BX(f.r,D,A,B,T,D,A,B,T);}}});Y.Dk=7(A,B,T,C,U){Y.BA.o(f,A,B,T);V(6 U=="7"){f.n=U;}V(6 C=="7"){f.u=C;}};5(Y.Dk,Y.BA);Y.BG=7(U){f.Dj(U);};Y.BG._={Cb:Y.BG,C6:7(){V(f.2){0 f.2.C6();}g{0 i;}},Dj:7(U){V(U $ Y.x){f.BE=U;}}};Y.Bo=7(U,T){Y.BG.o(f,U);f.Bg=T;};5(Y.Bo,Y.BG);T.5(Y.Bo._,{n:7(T){Z U=A.e.CK(f.Bg);V(U){T.DG();T.CY=f.BE.Ch;Z B=f.BE.B_();T.DF(B.O+B.N/S,B.P+B.M/S);T.D0(f.BE.Cc());T.BX(U,-B.N/S,-B.M/S,B.N,B.M);T.DM();}}});Y.CA=7(U,A,T){Y.BG.o(f,U);f.e=A;f.CZ=Q;f.BQ={};f.BL=i;f.B3=T.N;f.B5=T.M;f.CE=T.CE;f.CC=T.CC;f.CD=T.CD;f.CG=T.CG;f.d=h.t(f.CD/f.B3);f.Bd=h.t(f.CG/f.B5);};5(Y.CA,Y.BG);T.5(Y.CA._,{Dd:7(U){f.CZ=U;},n:7(T){V(f.BL){f.BL.u();}Z U=A.e.CK(f.e),D=f.CE+(f.CZ%f.d)*f.B3,C=f.CC+h.t(f.CZ/f.d)*f.B5;V(f.BE){T.DG();T.CY=f.BE.Ch;Z B=f.BE.B_();T.DF(B.O+B.N/S,B.P+B.M/S);T.D0(f.BE.Cc());T.BX(U,D,C,f.B3,f.B5,-B.N/S,-B.M/S,B.N,B.M);T.DM();}},getAnime:7(U){V(f.BQ[U]){0 f.BQ[U];}g{0 i;}},addAnime:7(U,T){V(T $ Y.CU){f.BQ[U]=T;}},playAnime:7(U){V(f.BQ[U]){f.BL=f.BQ[U];f.BL.D8();}},stopAnime:7(){V(f.BL){f.BL.ER();f.BL=i;}},deleteAnime:7(U){delete f.BQ[U];}});Y.CU=7(T,U,B,A){V(!U $ Array||!T $ Y.CA){0 i;}f.Di=T;f.C_=U;f.Cw=p(B)?R:B;f.CQ=p(A)?Q:A;f.Bv=s;};Y.CU._={Cb:Y.CU,D8:7(){f.BU=Q;f.CP=R;f.CN=f.CQ;f.Bv=k;},ER:7(){f.BU=Q;f.CP=Q;f.Bv=s;},u:7(U){V(!f.Bv){0 s;}V(f.BU<f.C_.BT-R){V(f.CQ!=Q){V(f.CN==Q){f.BU++;f.CN=f.CQ;}f.CN--;}g{f.BU++;}}g{V(f.CP<f.Cw||f.Cw==Q){f.CP++;f.BU=Q;}g{f.Bv=s;0 k;}}f.Di.Dd(f.C_[f.BU]);0 s;}};Y.x=7(T,B,U){f.W=p(T)?Q:T;f.X=p(B)?Q:B;f.q=Q;f.1=Q;f.D4=p(U)?Q:U;f.Ch=R;f.C8=f.W;f.C7=f.X;f.y=c A.EN();f.2=i;};Y.x._={Bc:7(A,U){f.C8=f.W;f.C7=f.X;f.W+=A;f.X+=U;Z T={Cn:A,Co:U,O:f.W,P:f.X};f.y.BS("Cg",T);},Bm:7(A,T){Z U={Cn:A-f.W,Co:T-f.X,O:A,P:T};f.W=A;f.X=T;f.y.BS("Cg",U);},cancelMove:7(){f.W=f.C8;f.X=f.C7;},B_:7(){0{O:f.Bh(),P:f.Bi(),N:f.CV(),M:f.CI()};},setCollisionBox:7(B,A,U,T){f.Bf={O:B,P:A,N:U,M:T};},DK:7(){V(f.Bf){0{O:f.Bh()+f.Bf.O,P:f.Bi()+f.Bf.P,N:f.Bf.N,M:f.Bf.M};}g{0 f.B_();}},Bh:7(){0 f.W;},Bi:7(){0 f.X;},Bl:7(){V(f.2){0 f.2.Bl()+f.Bh();}g{0 f.Bh();}},Bk:7(){V(f.2){0 f.2.Bk()+f.Bi();}g{0 f.Bi();}},CV:7(){0 Q;},CI:7(){0 Q;},Cc:7(){0 f.D4;},u:7(){}};Y.DC=7(B,C,A,U,T){Y.x.o(f,B,C,T);f.q=p(A)?Q:A;f.1=p(U)?Q:U;};5(Y.DC,Y.x);T.5(Y.DC._,{CV:7(){0 f.q;},CI:7(){0 f.1;}});Y.Cf=7(F,H,A,U,C,T,G){f.Dg=U.Cp.Dg;f.DP=U.Cp.DP;Z B=BM,E=c By.DO.b2FixtureDef;V(6 G!="object"){G={};}E.C3=p(G.C3)?R:G.C3;E.C1=p(G.C1)?Q.EY:G.C1;E.DI=p(G.DI)?Q.S:G.DI;f.Dv=C/S;f.Ds=C/S;E.EO=c By.Collision.Shapes.b2PolygonShape;E.EO.SetAsBox(f.Dv/B,f.Ds/B);Z D=c By.DO.b2BodyDef;D.type=By.DO.b2Body.b2_dynamicBody;D.D_.O=F/B;D.D_.P=H/B;D.angle=A;f.Ba=U.CreateBody(D);f.Ba.CreateFixture(E);Y.x.o(f,F,H,A);f.q=C;f.1=T;};5(Y.Cf,Y.x);T.5(Y.Cf._,{CV:7(){0 f.q;},CI:7(){0 f.1;},Cc:7(){0 f.Ba.GetAngle();},Bh:7(){0 f.Ba.DS().O*BM-f.q/S;},Bi:7(){0 f.Ba.DS().P*BM-f.1/S;},Bm:7(T,U){f.Ba.SetPosition(c By.Common.h.b2Vec2(T/BM,U/BM));}});Y.EH=7(B,T,D){V(!(T $ Y.x)){0;}f.3=T;f.8=D;f.BR=B;f.BF=s;f.a="CF";f.BN="Cv";f.y=c A.EN();f.BO=s;V(!f.3.Ce&&f.3.CO==i){f.3.CO=BY;f.3.Ce=f.D2;}f.Cj=c A.9(f.Bc,f);f.Bz=c A.9(f.EF,f);f.C9=c A.9(f.EL,f);f.DB=c A.9(f.EI,f);f.EU=c A.9(f.C5,f);V(CX.B7&&A&&!f.EG){V(!B.Bw.BH){B.Bw.D5(c Y.Ca("ui",i,10));}f.Dz(B.Bw.BH);}Z U=f,C=B.Bw.u;B.Bw.u=7(){C.o(f);U.D9();};f.DH();B.evtDeleg.BJ("end",f.EU);};Y.EH._={DH:7(){V(!f.8||f.BO){0;}f.8.BJ("Dm",f.Cj);f.8.BJ("Dh",f.Bz);V(CX.B7){f.8.BJ("ES",f.C9);f.8.BJ("EC",f.DB);f.8.BJ("Dy",f.Bz);}f.BO=k;},C5:7(){V(!f.8||!f.BO){0;}f.8.B1("Dm",f.Cj);f.8.B1("Dh",f.Bz);V(CX.B7){f.8.B1("ES",f.C9);f.8.B1("EC",f.DB);f.8.B1("Dy",f.Bz);}f.BF=s;f.BO=s;},setTarProxy:7(U){V(f.BO){f.C5();}f.8=U;V(f.BO){f.DH();}},D2:7(A){CS(A){l"CF":Z T=-R,U=Q;z;l"C4":T=R,U=Q;z;l"Cl":T=Q,U=-R;z;l"DE":T=Q,U=R;z;DL:0;}f.Bc(T*f.CO,U*f.CO);},EL:7(U){V(inrect(U.Bu,U.Bt,f.BZ)){f.DD=k;}f.BF=s;},D9:7(){V(f.3.Ce&&f.BF){f.3.Ce(f.a);}},EI:7(A){V(f.DD){Z D=f.BZ[Q]+BB,E=f.BZ[R]+BB,C=mseAngleForLine(D,E,A.Bu,A.Bt),B=distance2Pts(D,E,A.Bu,A.Bt);V(B<BB){f.BW.Bm(A.Bu-BB,A.Bt-BB);}g{f.BW.Bm(D+BB/B*(A.Bu-D)-BB,E+BB/B*(A.Bt-E)-BB);}V((C>=Q&&C<=Bn)||(C<=Q&&C>=-Bn)){Z T=BY,U=Q;f.a="C4";}g{V(C>=Dp&&C<=D$){U=-BY,T=Q;f.a="DE";}g{V(C>=DT||C<=-DT){T=-BY,U=Q;f.a="CF";}g{V(C<=-Dp&&C>=-D$){U=BY,T=Q;f.a="Cl";}g{0;}}}}V(f.BN!=f.a){f.y.BS("Cm",{a:f.a});}V(!f.BF){f.BF=k;V(6 f.3.B4=="7"){f.3.B4(f.a);}}f.BN=f.a;}},Bc:7(U){CS(U.keyCode){l __KEY_LEFT:f.a="CF";z;l __KEY_RIGHT:f.a="C4";z;l __KEY_UP:f.a="Cl";z;l __KEY_DOWN:f.a="DE";z;DL:0;}V(f.BN!=f.a){f.y.BS("Cm",{a:f.a});}V(!f.BF){f.BF=k;V(6 f.3.B4=="7"){f.3.B4(f.a);}}f.BN=f.a;},EF:7(U){f.BF=s;f.DD=s;f.y.BS("Cm",{prev:f.BN,a:"Cv"});f.BN="Cv";V(6 f.3.EA=="7"){superthis.3.EA(a);}V(f.BW){f.BW.Bm(f.BZ[Q],f.BZ[R]);}f.startPt=i;},Dz:7(U){V(!A){0;}f.ET=c A.Bo(i,{DQ:[46,f.BR.1-103],Dn:[Dt,Dt],CY:Q.DU},"ED");f.BW=c A.Bo(i,{DQ:[BM,f.BR.1-Dl],Dn:[CB,CB],CY:Q.DU},"Du");U.Cx(f.ET);U.Cx(f.BW);f.BZ=[BM,f.BR.1-Dl,CB,CB];f.EG=k;}};Y.D6=7(T,U,B,A,D,C){f.1=p(U)?Q:U;f.q=p(T)?Q:T;f.B$(B,A,D,C);};Y.D6._={Bc:7(U){f.W+=U.Cn;f.X+=U.Co;},B$:7(T,U,C,B){V(!U $ Y.x||!U $ A.D7||!T $ Y.BI){0;}f.3=U;f.BK=T;f.Cr=p(C)?Q:C;f.Cq=p(B)?Q:B;V(!p(f.W)){f.CR=Bn;f.C0=f.W;f.Cz=f.X;}f.W=U.Bl()-(f.q/S-f.Cr);f.X=U.Bk()-(f.1/S-f.Cq);},drawScene:7(T){V(f.3&&f.BK){f.W=h.B9(f.3.Bl()-(f.q/S-f.Cr));f.X=h.B9(f.3.Bk()-(f.1/S-f.Cq));V(f.W<Q){f.W=Q;}V(f.X<Q){f.X=Q;}V(f.W+f.q>f.BK.q){f.W=f.BK.q-f.q;}V(f.X+f.1>f.BK.1){f.X=f.BK.1-f.1;}V(f.CR>Q){Z U=(Bn-f.CR)/Bn;f.W=f.C0+h.B9((f.W-f.C0)*U);f.X=f.Cz+h.B9((f.X-f.Cz)*U);f.CR--;}f.BK.EM(T,-f.W,-f.X,f.q,f.1);}}};Y.Dr=7(U){f.B$(U);f.Bj={};f.CJ={};};Y.Dr._={register:7(U,B,T){V(U&&(T $ A.9||6 T=="7")){f.Bj[U]=B;f.CJ[U]=T;}},B$:7(U){V(U $ Y.x){f.Be=U;U.y.BJ("Cg",c A.9(f.EW,f));U.y.BJ("Ck",c A.9(f.EX,f));}},EX:7(T){Z U=T.CT;V(f.Bj[U]&&f.CJ[U]){T.CT=f.Bj[U];Bs=f.CJ[U];V(Bs $ A.9){Bs.Dx(T);}g{V(6 Bs=="7"){Bs.o(f.Be,T);}}}},EW:7(T){V(f.Be){Z L=f.Be.DK();b(Z G BV f.Bj){Z F=f.Bj[G];V(F $ Y.x){Z U=F.DK();V(((U.O>=L.O&&U.O<=L.O+L.N)||(L.O>=U.O&&L.O<=U.O+U.N))&&((U.P>=L.P&&U.P<=L.P+L.M)||(L.P>=U.P&&L.P<=U.P+U.M))){f.Be.y.BS("Ck",{CT:G,EK:L.O+L.N-U.O,EJ:L.P+L.M-U.P});0;}}g{V(F $ Y.Bq){Z E=h.t(L.O/F.w),D=h.t(L.P/F.v),B=h.t((L.O+L.N)/F.w),C=h.t((L.P+L.M)/F.v);b(Z I=D;I<=C;++I){b(Z A=E;A<=B;++A){Z K=I*F.d+A;V(F.Bp[K]!=Q){Z H=I*F.v,J=A*F.w;f.Be.y.BS("Ck",{CT:G,gid:K,EK:L.O+L.N-J,EJ:L.P+L.M-H});0;}}}}}}}}};})(EQ,mse,U);','h|w|x|y|0|1|2|_|$|if|ox|oy|mdj|var|dir|for|new|col|src|this|else|Math|null|attr|true|case|objs|draw|call|isNaN|width|cache|false|floor|logic|tileh|tilew|Model|proxy|break|return|height|parent|target|layers|extend|typeof|function|tarProxy|Callback|prototype|instanceof|Layer|40|O|parseInt|model|onmove|View|uilayer|Scene|addListener|scene|currAnime|30|prevDir|enabled|init|animations|game|eventNotif|length|currFr|in|padHandler|drawImage|4|touchZone|body|style|move|row|tar|colliBox|img|getRelatX|getRelatY|detectors|getY|getX|setPos|15|Image|map|TileLayer|tileset|cb|offsetY|offsetX|active|currScene|name|Box2D|moveEndcb|zid|removeListener|continue|fw|startMove|fh|Tileset|iOS|grids|round|getBoundingBox|setTarget|Sprite|80|sy|sw|sx|LEFT|sh|children|getHeight|callbacks|getSrc|tilesetConfig|cachable|delayCount|inputv|currRep|delay|movecount|switch|detector|AnimationSprite|getWidth|lazyInit|MseConfig|globalAlpha|currfr|ObjLayer|constructor|getOrientation|firstDraw|stepMove|Box2DModel|movement|opacity|2d|movecb|collision|UP|dirChange|dx|dy|data|tarOffy|tarOffx|document|R|drawTile|NONE|rep|addObj|addSource|prevoy|prevox|friction|canvas|density|RIGHT|disable|getScene|prevOy|prevOx|touchStartcb|seq|createElement|TileMapScene|touchMovecb|BoxModel|touchValid|DOWN|translate|save|enable|restitution|getContext|getCollisionBox|default|restore|push|Dynamics|sceneH|pos|tilewidth|GetPosition|165|6|ceil|fgid|M|N|Q|P|sortLayer|srch|setFrame|srcw|png|sceneW|keyup|sprite|setModel|UILayer|119|keydown|size|cacheCtx|75|addLayer|CollisionDetector|boxH|48|vPadHandler|boxW|season13|invoke|gestureEnd|addVituralPadTo|rotate|initWithTMX|stepMovefn|button|rotation|setUILayer|Camera|UIObject|start|frameMove|position|105|endMove|addTileset|gestureUpdate|vPadBase|srcRelatPath|moveEnd|vPadActive|DirectionalInput|touchMove|offy|offx|touchStart|drawInRect|EventDelegateSystem|shape|tileheight|window|stop|gestureStart|padBase|disableCb|getGrid|detect|triger|3|5'.split('|'),270,281,{},{}));
